{"version":3,"sources":["js/components/classifications/families/home.js","js/remote-api/classifications-api.js","js/actions/classifications/families/list.js","js/components/classifications/families/home-container.js","js/reducers/classifications/classification/index.js","js/components/classifications/families/visualization/controls.js","js/components/classifications/families/visualization/members.js","js/components/classifications/families/visualization/home.js","js/actions/classifications/families/general.js","js/actions/classifications/families/members.js","js/components/classifications/families/visualization/home-container.js","js/actions/classifications/families/family.js","js/reducers/classifications/family/index.js","js/components/classifications/series/home.js","js/actions/classifications/series/list.js","js/components/classifications/series/home-container.js","js/reducers/classifications/series/selector.js","js/components/classifications/series/visualization/controls.js","js/components/classifications/series/visualization/general.js","js/components/classifications/series/visualization/notes.js","js/components/classifications/series/visualization/members.js","js/components/classifications/series/visualization/home.js","js/actions/classifications/series/general.js","js/actions/classifications/series/members.js","js/components/classifications/series/visualization/home-container.js","js/actions/classifications/series/series.js","js/reducers/classifications/series/index.js","js/components/classifications/home.js","js/actions/classifications/list.js","js/components/classifications/home-container.js","js/reducers/classifications/selector.js","js/components/classifications/visualization/controls.js","js/components/classifications/visualization/general.js","js/components/classifications/visualization/notes.js","js/components/classifications/visualization/levels.js","js/components/classifications/visualization/home.js","js/actions/classifications/general.js","js/actions/classifications/levels.js","js/components/classifications/visualization/home-container.js","js/actions/classifications/classification.js","js/components/classifications/visualization/items/controls.js","js/components/classifications/visualization/items/home.js","js/actions/classifications/items/index.js","js/components/classifications/visualization/items/home-container.js","js/components/classifications/visualization/tree/controls.js","js/components/shared/tree/dnd/index.js","js/components/classifications/visualization/tree/home.js","js/components/classifications/visualization/tree/home-container.js","js/components/classifications/level/controls.js","js/components/classifications/level/general.js","js/components/classifications/level/members.js","js/components/classifications/level/home.js","js/actions/classifications/level/general.js","js/actions/classifications/level/members.js","js/components/classifications/level/home-container.js","js/actions/classifications/level/index.js","js/reducers/classifications/level/index.js","js/components/classifications/item/controls.js","js/components/classifications/item/general.js","js/utils/classifications/classification/notes.js","js/components/classifications/item/notes.js","js/components/classifications/item/narrowers.js","js/components/classifications/item/home.js","js/actions/classifications/item/general.js","js/utils/classifications/item/notes.js","js/actions/classifications/item/notes-all.js","js/actions/classifications/item/notes-version.js","js/actions/classifications/item/narrowers.js","js/actions/classifications/item/index.js","js/components/classifications/item/home-container.js","js/reducers/classifications/item/index.js","js/components/classifications/item/compare/controls.js","js/components/classifications/item/compare/home.js","js/components/classifications/item/compare/home-container.js","js/components/classifications/correspondences/home.js","js/actions/classifications/correspondences/list.js","js/components/classifications/correspondences/home-container.js","js/reducers/classifications/correspondence/index.js","js/components/classifications/correspondences/visualization/controls.js","js/components/classifications/correspondences/visualization/home-general.js","js/components/classifications/correspondences/visualization/general-fields.js","js/components/classifications/correspondences/visualization/home-associations.js","js/utils/classifications/correspondence/associations.js","js/components/classifications/correspondences/visualization/home-container.js","js/actions/classifications/correspondences/general.js","js/actions/classifications/correspondences/associations.js","js/components/classifications/correspondences/association/controls.js","js/components/classifications/correspondences/association/home.js","js/components/classifications/correspondences/association/general-fields.js","js/components/classifications/correspondences/association/home-container.js","js/actions/classifications/correspondences/association.js","js/components/router/classifications.js","js/utils/build-extract.js","js/utils/redirection.js","js/components/shared/second-lang-checkbox/index.js","js/utils/html.js","js/components/shared/note-flag/note-flag.js","js/components/shared/search-rmes/search-rmes.js","img/flags/default.png","img/flags sync /^/.//.*/.png$","js/components/shared/flag/flag.js","js/components/shared/page-subtitle/index.js","img/flags/en.png","img/flags/fr.png","js/components/shared/placeholder/placeholder.js","js/components/shared/panel-html/index.js","js/components/shared/explanatory-note/index.js","js/utils/dissemination-status-convertor.js","js/components/shared/note-visualization/index.js","js/utils/build-empty-notes.js","js/components/shared/note-compare/index.js"],"names":["FamiliesHome","_ref","families","react_default","a","createElement","className","page_title","title","D","familiesSearchTitle","col","offset","context","search_rmes","items","childPath","buildApi","getFamiliesList","getSeriesList","getList","getCorrespondencesList","getFamilyGeneral","id","concat","getFamilyMembers","getSeriesGeneral","getSeriesMembers","getClassificationGeneral","getClassificationItems","getClassificationLevels","getClassificationLevelGeneral","classificationId","levelId","getClassificationLevelMembers","getClassificationItemGeneral","itemId","getClassificationItemNotes","conceptVersion","getClassificationItemNarrowers","getCorrespondenceGeneral","correspondenceId","getCorrespondenceAssociations","getCorrespondenceAssociation","associationId","sortByLabel","sortArray","FamiliesHomeContainer","this","props","loadFamiliesList","home","loading","textType","Component","mapDispatchToProps","dispatch","type","A","payload","api","then","results","err","connect","state","classificationsFamiliesList","getClassificationsFamiliesList","status","NOT_LOADED","FamilyControls","btns","goBack","btnReturn","map","btn","i","placeholder","key","_btn","Object","slicedToArray","action","label","shared_button","withRouter","visualization_members","members","secondLang","membersLg1","m","Link","to","labelLg1","membersLg2","labelLg2","isMembersLg2","filter","length","panel","childrenSeries","FamilyVisualization","_this$props","_this$props$family","family","prefLabelLg1","general","second_lang_checkbox","onChange","saveSecondLang","controls","families_general","families_members","extractId","buildExtract","FamilyVisualizationContainer","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","loadFamily","_this$props2","visualization_home","Promise","all","loadGeneral","loadMembers","ownProps","getGeneral","classificationFamilyGeneral","getMembers","classificationFamilyMembers","select","getSecondLang","SeriesHome","series","seriesSearchTitle","SeriesHomeContainer","loadSeriesList","series_home","classificationsSeriesList","getClassificationsSeriesList","SeriesControls","visualization_general","langs","lg1","lg2","mapping","familyLg1","objectSpread","motherFamily","altLabelLg1","altLabelTitle","altLabelLg2","subject","classificationsSubjectTitle","covers","classificationsCoversTitle","publisher","classificationsPublisherTitle","globalInformationsTitle","keys","fieldName","hasOwnProperty","idFamily","familyLg2","includes","split","join","visualization_notes","_ref$notes","notes","scopeNoteLg1","scopeNoteLg2","_ref$langs","explanatory_note","text","classificationsScopeNote","lang","alone","series_visualization_members","childrenClassifications","SeriesVisualization","_this$props$series","prefLabelLg2","page_subtitle","subtitle","visualization_controls","series_general","series_members","SeriesVisualizationContainer","loadSeries","series_visualization_home","classificationSeriesGeneral","classificationSeriesMembers","mainSelect","ClassificationsHome","classifications","classificationsSearchTitle","ClassificationsHomeContainer","loadClassificationsList","classifications_home","classificationsList","getClassificationsList","location","history","pathname","treeLocation","btnTree","classifications_visualization_general","seriesLg1","motherSeries","afterLg1","classificationsAfterTitle","beforeLg1","classificationsBeforeTitle","variantLg1","classificationsVariantTitle","issued","issuedDateTitle","valid","validDateTitle","lastRefreshedOn","lastRefreshedOnDateTitle","creator","creatorTitle","contributor","contributorTitle","disseminationStatus","disseminationStatusTitle","rights","rightsTitle","additionalMaterial","additionalMaterialTitle","legalMaterial","legalMaterialTitle","homepage","homepageTitle","idSeries","seriesLg2","idAfter","afterLg2","idBefore","beforeLg2","idVariant","variantLg2","href","target","rel","DSURLToLabel","stringToDate","classifications_visualization_notes","changeNoteLg1","changeNoteLg2","descriptionLg1","descriptionLg2","classificationsDescription","classificationsChangeNote","visualization_levels","levels","levelsLg1","levelsLg2","classificationLevelsTitle","ClassificationVisualization","_this$props$classific","classification","classificationAllItemsTitle","classifications_visualization_controls","classifications_general","classifications_levels","ClassificationVisualizationContainer","loadClassification","classifications_visualization_home","loadLevels","classificationGeneral","getLevels","classificationLevels","ClassificationControls","nextLocation","replace","ClassificationTree","items_controls","classifications_items","ClassificationItemsContainer","loadClassificationItems","loadClassificationGeneral","data","n","items_home","selectT","selectG","RmesTree","_this","treeData","setState","_this2","canDrag","linkPath","style","width","height","main_default","canDrop","generateNodeProps","rowInfo","buttons","node","prefLabel","classificationTreeTitle","tree_controls","dnd_RmesTree","ClassificationTreeContainer","flatTree","getTreeFromFlatData","flatData","parent","getKey","getParentKey","rootKey","tree_home","LevelControls","level_general","broaderLg1","classificationsBroaderLevel","narrowerLg1","classificationsNarrowerLevel","notation","classificationsNotationTitle","depth","classificationsDepthTitle","notationPattern","classificationsNotationPatternTitle","idBroader","broaderLg2","idNarrower","narrowerLg2","level_members","_ref2","undefined","_ref3","childrenClassificationItems","colOff","LevelVisualization","_this$props$level","level","level_controls","classifications_level_general","classifications_level_members","extractClassificationId","extractLevelId","LevelVisualizationContainer","loadLevel","level_home","classificationLevelGeneral","classificationLevelMembers","ItemControls","version","btnCompare","item_general","altLabels","classificationItemAltLabels","isValidated","isClassificationItemValidTitle","classificationConceptVersionTitle","shortLabelLg1","shortLabelLg2","classificationItemIsValidated","buildNotes","definitionLg1","definitionLg2","classificationsDefinition","coreContentNoteLg1","coreContentNoteLg2","classificationsCoreContentNote","additionalContentNoteLg1","additionalContentNoteLg2","classificationsAdditionalContentNote","exclusionNoteLg1","exclusionNoteLg2","classificationsExclusionNote","delPTags","changeNoteDate","ClassificationNotes","note_visualization","params","item_narrowers","narrowers","narrowersLg1","narrowersLg2","classificationsNarrowerItems","ItemVisualization","_this$props$item","item","subTitle","item_controls","item_notes","classifications_item_general","fields","emptyNotes","buildEmptyNotes","notes_all","lastVersion","range","assign","reduce","formatted","noteName","rmesHtmlToRawHtml","loadNotesByVersion","classifications_item_narrowers","classifications_item","loadAllNotes","Number","loadNarrowers","extractItemId","ItemVisualizationContainer","loadItem","item_home","classificationItemGeneral","getNarrowers","classificationItemNarrowers","getNotes","classificationItemNotes","Controls","nexLocation","btnReturnCurrent","Compare","compare_controls","note_compare","CompareContainer","compare_home","getAllNotes","CorrespondencesHome","correspondences","correspondencesSearchTitle","CorrespondencesHomeContainer","loadCorrespondencesList","correspondences_home","classificationsCorrespondencesList","CorrespondenceControls","HomeGeneral","correspondence","_this$props$langs","firstClassLabelLg2","secondClassLabelLg2","correspondences_visualization_controls","firstClassLabelLg1","sourceClassificationTitle","secondClassLabelLg1","targetClassificationTitle","content","idFirstClass","idSecondClass","generalFields","sortById","PropTypes","arrayOf","shape","string","isRequired","sourceId","sourceLabelLg1","sourceLabelLg2","targetId","targetLabelLg1","targetLabelLg2","HomeAssociations","associations","firstAltLabelLg1","firstAltLabelLg2","secondAltLabelLg1","secondAltLabelLg2","_associations$","_a$id$split","_a$id$split2","idS","idT","source","sourceLabel","targetLabel","rowParams","dataField","isKey","associationsTitle","table_rmes","search","pagination","onRowClick","row","push","dataAlign","loadCorrespondenceGeneral","loadCorrespondenceAssociations","home_general","home_associations","_getCorrespondence","classificationsCorrespondenceGeneral","getAssociations","classificationsCorrespondenceAssociations","getCorrespondence","association_home","association","sourceItemLabelLg2","targetItemLabelLg2","association_controls","sourceItemLabelLg1","sourceItemTitle","targetItemLabelLg1","targetItemTitle","sourceClassId","targetClassId","sourceItemId","targetItemId","sourceClassAltLabelLg1","sourceClassAltLabelLg2","targetClassAltLabelLg1","targetClassAltLabelLg2","extractCorrespondenceId","extractAssociationId","AssociationHomeContainer","loadCorrespondenceAssociation","__webpack_exports__","document","classificationsTitle","Switch","Route","exact","path","component","ClassificationsFamiliesContainer","ClassificationsFamilyContainer","ClassificationsSeriesContainer","ClassificationsOneSeriesContainer","ClassificationsContainer","ClassificationContainer","ClassificationLevelContainer","ClassificationItemContainer","ClassificationItemCompareContainer","ClassificationsCorrespondencesContainer","ClassificationsCorrespondenceContainer","ClassificationsCorrespondenceAssociationContainer","paramName","match","__webpack_require__","d","goBackOrReplace","defaultRedirection","redirectUrl","arguments","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","js_i18n__WEBPACK_IMPORTED_MODULE_1__","Checkbox","checked","displayLg2","htmlLength","htmlIsEmpty","rawHtmlToRmesHtml","htmlFromEditorState","editorStateFromHtml","mdFromEditorState","editorStateFromMd","markdownToHtml","draft_js__WEBPACK_IMPORTED_MODULE_0__","draft_js_import_html__WEBPACK_IMPORTED_MODULE_1__","draft_js_export_html__WEBPACK_IMPORTED_MODULE_2__","draftjs_md_converter__WEBPACK_IMPORTED_MODULE_3__","htmlToRawText","html","el","innerHTML","textContent","trim","cleanHtml","stateToHTML","stateFromHTML","draftHtmlToXhtml","rNewLine","rUselessSpace","s","editorState","getCurrentContent","EditorState","createWithContent","draftjsToMd","convertToRaw","md","convertFromRaw","mdToDraftjs","js_components_shared_flag_flag__WEBPACK_IMPORTED_MODULE_1__","NoteFlag","Fragment","flag","SearchRmes","_ref$items","_ref$advancedSearch","advancedSearch","searchUrl","_ref$placeholder","searchLabelPlaceholder","_useState","useState","_useState2","_Users_emmanueldemey_Documents_workspaces_oss_bauhaus_learna_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","handleSearch","ctx","useContext","ApplicationContext","filterKeyDeburr","k","hits","hitEls","labelValue","react__WEBPACK_IMPORTED_MODULE_1___default","react_router_dom__WEBPACK_IMPORTED_MODULE_2__","colSize","colOffset","value","e","aria-label","aria-hidden","conceptAdvancedSearchTitle","aria-live","nbResults","js_components_shared_pagination__WEBPACK_IMPORTED_MODULE_4__","itemEls","itemsPerPage","defaultProps","module","exports","p","./default.png","./en.png","./fr.png","webpackContext","req","webpackContextResolve","o","Error","code","resolve","img_flags_default_png__WEBPACK_IMPORTED_MODULE_1__","img_flags_default_png__WEBPACK_IMPORTED_MODULE_1___default","js_i18n__WEBPACK_IMPORTED_MODULE_2__","isFlag","require","src","defaultFlag","alt","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","js_context__WEBPACK_IMPORTED_MODULE_3__","PageSubtitle","_ref$context","proptTypes","oneOf","PanelHtml","children","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","explanatory_note_ExplanatoryNote","ExplanatoryNote","cl","newText","window","origin","panel_html","note_flag","dsURL","endsWith","js_components_shared_explanatory_note__WEBPACK_IMPORTED_MODULE_1__","NoteVisualization","note","typeOfNote","CompareNotes","_Users_emmanueldemey_Documents_workspaces_oss_bauhaus_learna_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_emmanueldemey_Documents_workspaces_oss_bauhaus_learna_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_emmanueldemey_Documents_workspaces_oss_bauhaus_learna_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","select1","select2","changeSelect1","changeSelect2","_this$state","notesVersion1","notesVersion2","react__WEBPACK_IMPORTED_MODULE_5___default","creatSelectList","creatSelectListSelectedLast","js_components_shared_explanatory_note__WEBPACK_IMPORTED_MODULE_7__"],"mappings":"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","file":"static/js/12.55da3be0.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport PageTitle from 'js/components/shared/page-title';\nimport SearchRmes from 'js/components/shared/search-rmes/search-rmes';\nimport D from 'js/i18n';\n\nconst FamiliesHome = ({ families }) => {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-8 col-md-offset-2 centered\">\n\t\t\t\t\t<PageTitle\n\t\t\t\t\t\ttitle={D.familiesSearchTitle}\n\t\t\t\t\t\tcol={12}\n\t\t\t\t\t\toffset={0}\n\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t/>\n\t\t\t\t\t<SearchRmes\n\t\t\t\t\t\titems={families}\n\t\t\t\t\t\tchildPath=\"classifications/family\"\n\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nFamiliesHome.propTypes = {\n\titems: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t\tlabel: PropTypes.string.isRequired,\n\t\t}).isRequired\n\t),\n};\n\nexport default FamiliesHome;\n","import buildApi from './build-api';\n\nconst api = {\n\tgetFamiliesList: () => ['families'],\n\tgetSeriesList: () => ['series'],\n\tgetList: () => [''],\n\tgetCorrespondencesList: () => ['correspondences'],\n\tgetFamilyGeneral: id => [`family/${id}`],\n\tgetFamilyMembers: id => [`family/${id}/members`],\n\tgetSeriesGeneral: id => [`series/${id}`],\n\tgetSeriesMembers: id => [`series/${id}/members`],\n\tgetClassificationGeneral: id => [`classification/${id}`],\n\tgetClassificationItems: id => [`classification/${id}/items`],\n\tgetClassificationLevels: id => [`classification/${id}/levels`],\n\tgetClassificationLevelGeneral: (classificationId, levelId) => [\n\t\t`classification/${classificationId}/level/${levelId}`,\n\t],\n\tgetClassificationLevelMembers: (classificationId, levelId) => [\n\t\t`classification/${classificationId}/level/${levelId}/members`,\n\t],\n\tgetClassificationItemGeneral: (classificationId, itemId) => [\n\t\t`classification/${classificationId}/item/${itemId}`,\n\t],\n\tgetClassificationItemNotes: (classificationId, itemId, conceptVersion) => [\n\t\t`classification/${classificationId}/item/${itemId}/notes/${conceptVersion}`,\n\t],\n\tgetClassificationItemNarrowers: (classificationId, itemId) => [\n\t\t`classification/${classificationId}/item/${itemId}/narrowers`,\n\t],\n\tgetCorrespondenceGeneral: correspondenceId => [\n\t\t`correspondence/${correspondenceId}`,\n\t],\n\tgetCorrespondenceAssociations: correspondenceId => [\n\t\t`correspondence/${correspondenceId}/associations`,\n\t],\n\tgetCorrespondenceAssociation: (correspondenceId, associationId) => [\n\t\t`correspondence/${correspondenceId}/association/${associationId}`,\n\t],\n};\n\nexport default buildApi('classifications', api);\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\nimport { sortArray } from 'js/utils/array-utils';\n\nconst sortByLabel = sortArray('label');\n\nexport default () => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATIONS_FAMILIES_LIST,\n\t\tpayload: {},\n\t});\n\treturn api.getFamiliesList().then(\n\t\tresults =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATIONS_FAMILIES_LIST_SUCCESS,\n\t\t\t\tpayload: { results: sortByLabel(results) },\n\t\t\t}),\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATIONS_FAMILIES_LIST_FAILURE,\n\t\t\t\tpayload: { err },\n\t\t\t})\n\t);\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loading from 'js/components/shared/loading';\nimport FamiliesHome from './home';\nimport { NOT_LOADED } from 'js/constants';\nimport loadFamiliesList from 'js/actions/classifications/families/list';\nimport { getClassificationsFamiliesList } from 'js/reducers/classifications/classification';\n\nclass FamiliesHomeContainer extends Component {\n\tcomponentWillMount() {\n\t\tif (!this.props.families) {\n\t\t\tthis.props.loadFamiliesList();\n\t\t}\n\t}\n\trender() {\n\t\tconst { families } = this.props;\n\t\tif (!families)\n\t\t\treturn <Loading textType=\"loading\" context=\"classifications\" />;\n\t\treturn <FamiliesHome families={families} />;\n\t}\n}\n\nexport const mapStateToProps = state => {\n\tconst classificationsFamiliesList = getClassificationsFamiliesList(state);\n\tif (!classificationsFamiliesList) {\n\t\treturn {\n\t\t\tstatus: NOT_LOADED,\n\t\t\tfamilies: [],\n\t\t};\n\t}\n\n\tlet { results: families, status, err } = classificationsFamiliesList;\n\n\treturn {\n\t\tfamilies,\n\t\tstatus,\n\t\terr,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tloadFamiliesList,\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(FamiliesHomeContainer);\n","import { getGeneral } from './general';\nimport { getLevels } from './levels';\n\nexport function getClassification(state, id) {\n\tconst general = getGeneral(state.classificationGeneral, id);\n\tif (!general) return;\n\tconst levels = getLevels(state.classificationLevels, id);\n\tif (!levels) return;\n\treturn {\n\t\tgeneral,\n\t\tlevels,\n\t};\n}\n\nexport function getClassificationsFamiliesList(state) {\n\treturn state.classificationsFamiliesList;\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport Button from 'js/components/shared/button';\nimport PlaceHolder from 'js/components/shared/placeholder/placeholder';\nimport { goBack } from 'js/utils/redirection';\nimport D from 'js/i18n';\n\nclass FamilyControls extends Component {\n\tstatic propTypes = {\n\t\tid: PropTypes.string,\n\t};\n\n\trender() {\n\t\tconst cancel = [\n\t\t\tgoBack(this.props, `/classifications/families`),\n\t\t\tD.btnReturn,\n\t\t];\n\t\tconst btns = [cancel, null, null, null, null, null];\n\n\t\treturn (\n\t\t\t<div className=\"row btn-line\">\n\t\t\t\t{btns.map((btn, i) => {\n\t\t\t\t\tif (!btn) return <PlaceHolder key={i} />;\n\t\t\t\t\tconst [action, label] = btn;\n\t\t\t\t\treturn (\n\t\t\t\t\t\tbtn && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey={label}\n\t\t\t\t\t\t\t\taction={action}\n\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(FamilyControls);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Panel from 'js/components/shared/panel';\nimport D from 'js/i18n';\n\nexport default ({ members, secondLang }) => {\n\tconst membersLg1 = members.map((m, i) => (\n\t\t<li key={i}>\n\t\t\t<Link to={`/classifications/series/${m.id}`}>{m.labelLg1}</Link>\n\t\t</li>\n\t));\n\tlet membersLg2 = [];\n\tif (secondLang)\n\t\tmembersLg2 = members.map(\n\t\t\t(m, i) =>\n\t\t\t\tm.labelLg2 ? (\n\t\t\t\t\t<li key={i}>\n\t\t\t\t\t\t<Link to={`/classifications/series/${m.id}`}>{m.labelLg2}</Link>\n\t\t\t\t\t</li>\n\t\t\t\t) : null\n\t\t);\n\tconst isMembersLg2 = membersLg2.filter(m => m !== null).length !== 0;\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className={`col-md-${secondLang ? 6 : 12}`}>\n\t\t\t\t<Panel title={D.childrenSeries} context=\"classifications\">\n\t\t\t\t\t<ul>{membersLg1}</ul>\n\t\t\t\t</Panel>\n\t\t\t</div>\n\t\t\t{secondLang &&\n\t\t\t\tisMembersLg2 && (\n\t\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t\t<Panel title={D.childrenSeries} context=\"classifications\">\n\t\t\t\t\t\t\t<ul>{membersLg2}</ul>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t</div>\n\t);\n};\n","import React, { Component } from 'react';\nimport CheckSecondLang from 'js/components/shared/second-lang-checkbox';\nimport PageTitle from 'js/components/shared/page-title';\nimport Controls from './controls';\nimport Members from './members';\n\nclass FamilyVisualization extends Component {\n\trender() {\n\t\tconst {\n\t\t\tfamily: { general: { prefLabelLg1 }, members },\n\t\t\tsecondLang,\n\t\t} = this.props;\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<CheckSecondLang\n\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\tonChange={this.props.saveSecondLang}\n\t\t\t\t/>\n\t\t\t\t<PageTitle title={prefLabelLg1} context=\"classifications\" />\n\t\t\t\t<Controls />\n\t\t\t\t{members.length !== 0 && (\n\t\t\t\t\t<Members members={members} secondLang={secondLang} />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default FamilyVisualization;\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\n\nexport default id => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATIONS_FAMILLY_GENERAL,\n\t\tpayload: {\n\t\t\tid,\n\t\t},\n\t});\n\treturn api.getFamilyGeneral(id).then(\n\t\tresults => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATIONS_FAMILLY_GENERAL_SUCCESS,\n\t\t\t\tpayload: { id, results },\n\t\t\t});\n\t\t\treturn results;\n\t\t},\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATIONS_FAMILLY_GENERAL_FAILURE,\n\t\t\t\tpayload: { err, id },\n\t\t\t})\n\t);\n};\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\n\nexport default id => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATIONS_FAMILLY_MEMBERS,\n\t\tpayload: {\n\t\t\tid,\n\t\t},\n\t});\n\treturn api.getFamilyMembers(id).then(\n\t\tresults => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATIONS_FAMILLY_MEMBERS_SUCCESS,\n\t\t\t\tpayload: { id, results },\n\t\t\t});\n\t\t\treturn results;\n\t\t},\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATIONS_FAMILLY_MEMBERS_FAILURE,\n\t\t\t\tpayload: { err, id },\n\t\t\t})\n\t);\n};\n","import React, { Component } from 'react';\nimport { PropTypes } from 'prop-types';\nimport { connect } from 'react-redux';\nimport FamilyVisualization from './home';\nimport Loading from 'js/components/shared/loading';\nimport loadFamily from 'js/actions/classifications/families/family';\nimport { saveSecondLang } from 'js/actions/app';\nimport * as select from 'js/reducers/classifications/family';\nimport buildExtract from 'js/utils/build-extract';\nimport { getSecondLang } from 'js/reducers/app';\n\nconst extractId = buildExtract('id');\n\nclass FamilyVisualizationContainer extends Component {\n\tstatic propTypes = {\n\t\tmatch: PropTypes.shape({\n\t\t\tparams: PropTypes.shape({\n\t\t\t\tid: PropTypes.string.isRequired,\n\t\t\t}),\n\t\t}),\n\t};\n\n\tconstructor(props) {\n\t\tsuper();\n\t}\n\tcomponentWillMount() {\n\t\tconst { family, id } = this.props;\n\t\tif (!family) this.props.loadFamily(id);\n\t}\n\trender() {\n\t\tconst { family, secondLang } = this.props;\n\t\tif (!family)\n\t\t\treturn <Loading textType=\"loading\" context=\"classifications\" />;\n\t\treturn (\n\t\t\t<FamilyVisualization\n\t\t\t\tfamily={family}\n\t\t\t\tsecondLang={secondLang}\n\t\t\t\tsaveSecondLang={this.props.saveSecondLang}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst id = extractId(ownProps);\n\tconst family = select.getFamily(state, id);\n\tconst secondLang = getSecondLang(state);\n\treturn {\n\t\tid,\n\t\tfamily,\n\t\tsecondLang,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tsaveSecondLang,\n\tloadFamily,\n};\n\nFamilyVisualizationContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(FamilyVisualizationContainer);\n\nexport default FamilyVisualizationContainer;\n","import loadGeneral from './general';\nimport loadMembers from './members';\n\nexport default id => dispatch =>\n\tPromise.all([dispatch(loadGeneral(id)), dispatch(loadMembers(id))]);\n","import { getGeneral } from './general';\nimport { getMembers } from './members';\n\nexport function getFamily(state, id) {\n\tconst general = getGeneral(state.classificationFamilyGeneral, id);\n\tif (!general) return;\n\tconst members = getMembers(state.classificationFamilyMembers, id);\n\tif (!members) return;\n\treturn {\n\t\tgeneral,\n\t\tmembers,\n\t};\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PageTitle from 'js/components/shared/page-title';\nimport SearchRmes from 'js/components/shared/search-rmes/search-rmes';\nimport D from 'js/i18n';\n\nconst SeriesHome = ({ series }) => {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-8 col-md-offset-2 centered\">\n\t\t\t\t\t<PageTitle\n\t\t\t\t\t\ttitle={D.seriesSearchTitle}\n\t\t\t\t\t\tcol={12}\n\t\t\t\t\t\toffset={0}\n\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t/>\n\t\t\t\t\t<SearchRmes\n\t\t\t\t\t\titems={series}\n\t\t\t\t\t\tchildPath=\"classifications/series\"\n\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nSeriesHome.propTypes = {\n\titems: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t\tlabel: PropTypes.string.isRequired,\n\t\t}).isRequired\n\t),\n};\n\nexport default SeriesHome;\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\nimport { sortArray } from 'js/utils/array-utils';\n\nconst sortByLabel = sortArray('label');\n\nexport default () => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATIONS_SERIES_LIST,\n\t\tpayload: {},\n\t});\n\treturn api.getSeriesList().then(\n\t\tresults =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATIONS_SERIES_LIST_SUCCESS,\n\t\t\t\tpayload: { results: sortByLabel(results) },\n\t\t\t}),\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATIONS_SERIES_LIST_FAILURE,\n\t\t\t\tpayload: { err },\n\t\t\t})\n\t);\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loading from 'js/components/shared/loading';\nimport SeriesHome from './home';\nimport { NOT_LOADED } from 'js/constants';\nimport loadSeriesList from 'js/actions/classifications/series/list';\nimport { getClassificationsSeriesList } from 'js/reducers/classifications/series/selector';\n\nclass SeriesHomeContainer extends Component {\n\tcomponentWillMount() {\n\t\tif (!this.props.series) {\n\t\t\tthis.props.loadSeriesList();\n\t\t}\n\t}\n\trender() {\n\t\tconst { series } = this.props;\n\t\tif (!series)\n\t\t\treturn <Loading textType=\"loading\" context=\"classifications\" />;\n\t\treturn <SeriesHome series={series} />;\n\t}\n}\n\nexport const mapStateToProps = state => {\n\tconst classificationsSeriesList = getClassificationsSeriesList(state);\n\tif (!classificationsSeriesList) {\n\t\treturn {\n\t\t\tstatus: NOT_LOADED,\n\t\t\tseries: [],\n\t\t};\n\t}\n\tlet { results: series, status, err } = classificationsSeriesList;\n\n\treturn {\n\t\tseries,\n\t\tstatus,\n\t\terr,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tloadSeriesList,\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SeriesHomeContainer);\n","export function getClassificationsSeriesList(state) {\n\treturn state.classificationsSeriesList;\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport Button from 'js/components/shared/button';\nimport PlaceHolder from 'js/components/shared/placeholder/placeholder';\nimport { goBack } from 'js/utils/redirection';\nimport D from 'js/i18n';\n\nclass SeriesControls extends Component {\n\trender() {\n\t\tconst cancel = [goBack(this.props, `/classifications/series`), D.btnReturn];\n\t\tconst btns = [cancel, null, null, null, null, null];\n\n\t\treturn (\n\t\t\t<div className=\"row btn-line\">\n\t\t\t\t{btns.map((btn, i) => {\n\t\t\t\t\tif (!btn) return <PlaceHolder key={i} />;\n\t\t\t\t\tconst [action, label] = btn;\n\t\t\t\t\treturn (\n\t\t\t\t\t\tbtn && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey={label}\n\t\t\t\t\t\t\t\taction={action}\n\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nSeriesControls.propTypes = {\n\tid: PropTypes.string,\n};\n\nexport default withRouter(SeriesControls);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport D from 'js/i18n';\nimport Panel from 'js/components/shared/panel';\n\nexport default ({ general, secondLang, langs }) => {\n\tconst { lg1, lg2 } = langs;\n\tlet mapping = {};\n\tif (general.familyLg1) {\n\t\tmapping = {\n\t\t\t...mapping,\n\t\t\tfamilyLg1: `${D.motherFamily}`,\n\t\t};\n\t}\n\tif (general.altLabelLg1) {\n\t\tmapping = {\n\t\t\t...mapping,\n\t\t\taltLabelLg1: `${D.altLabelTitle} (${lg1})`,\n\t\t};\n\t}\n\tif (general.altLabelLg2) {\n\t\tmapping = {\n\t\t\t...mapping,\n\t\t\taltLabelLg2: `${D.altLabelTitle} (${lg2})`,\n\t\t};\n\t}\n\tif (general.subject) {\n\t\tmapping = {\n\t\t\t...mapping,\n\t\t\tsubject: `${D.classificationsSubjectTitle}`,\n\t\t};\n\t}\n\tif (general.covers) {\n\t\tmapping = {\n\t\t\t...mapping,\n\t\t\tcovers: `${D.classificationsCoversTitle}`,\n\t\t};\n\t}\n\tif (general.publisher) {\n\t\tmapping = {\n\t\t\t...mapping,\n\t\t\tpublisher: `${D.classificationsPublisherTitle}`,\n\t\t};\n\t}\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-md-12\">\n\t\t\t\t<Panel title={D.globalInformationsTitle} context=\"classifications\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{Object.keys(mapping).map(fieldName => {\n\t\t\t\t\t\t\tif (general.hasOwnProperty(fieldName)) {\n\t\t\t\t\t\t\t\tif (fieldName === 'familyLg1') {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t\t\t\t\t\t\t{mapping[fieldName]} :{' '}\n\t\t\t\t\t\t\t\t\t\t\t<Link to={`/classifications/family/${general.idFamily}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t{general[fieldName]}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t{secondLang &&\n\t\t\t\t\t\t\t\t\t\t\t\tgeneral.familyLg2 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{' ('}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/classifications/family/${general.idFamily}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{general.familyLg2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{')'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (fieldName === 'altLabelLg2' && !secondLang) {\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (fieldName === 'altLabelLg2' && !secondLang) {\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (fieldName.includes('altLabel')) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t\t\t\t\t\t\t{`${mapping[fieldName]} : ${general[fieldName]\n\t\t\t\t\t\t\t\t\t\t\t\t.split(' || ')\n\t\t\t\t\t\t\t\t\t\t\t\t.join(' - ')}`}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>{`${mapping[fieldName]} : ${\n\t\t\t\t\t\t\t\t\t\t\tgeneral[fieldName]\n\t\t\t\t\t\t\t\t\t\t}`}</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ul>\n\t\t\t\t</Panel>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from 'react';\nimport { ExplanatoryNote } from 'js/components/shared/explanatory-note';\nimport D from 'js/i18n';\n\nexport default ({\n\tnotes: { scopeNoteLg1, scopeNoteLg2 },\n\tsecondLang,\n\tlangs: { lg1, lg2 },\n}) => (\n\t<div>\n\t\t{scopeNoteLg1 && (\n\t\t\t<div className=\"row\">\n\t\t\t\t<ExplanatoryNote\n\t\t\t\t\ttext={scopeNoteLg1}\n\t\t\t\t\ttitle={D.classificationsScopeNote}\n\t\t\t\t\tlang={lg1}\n\t\t\t\t\talone={!secondLang}\n\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t/>\n\t\t\t\t{secondLang && (\n\t\t\t\t\t<ExplanatoryNote\n\t\t\t\t\t\ttext={scopeNoteLg2}\n\t\t\t\t\t\ttitle={D.classificationsScopeNote}\n\t\t\t\t\t\tlang={lg2}\n\t\t\t\t\t\talone={false}\n\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t)}\n\t</div>\n);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Panel from 'js/components/shared/panel';\nimport D from 'js/i18n';\n\nexport default ({ members, secondLang }) => {\n\tconst membersLg1 = members.map((m, i) => (\n\t\t<li key={i}>\n\t\t\t<Link to={`/classifications/classification/${m.id}`}>{m.labelLg1}</Link>\n\t\t</li>\n\t));\n\tlet membersLg2 = [];\n\tif (secondLang)\n\t\tmembersLg2 = members.map(\n\t\t\t(m, i) =>\n\t\t\t\tm.labelLg2 ? (\n\t\t\t\t\t<li key={i}>\n\t\t\t\t\t\t<Link to={`/classifications/classification/${m.id}`}>\n\t\t\t\t\t\t\t{m.labelLg2}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t) : null\n\t\t);\n\tconst isMembersLg2 = membersLg2.filter(m => m !== null).length !== 0;\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className={`col-md-${secondLang ? 6 : 12}`}>\n\t\t\t\t<Panel title={D.childrenClassifications} context=\"classifications\">\n\t\t\t\t\t<ul>{membersLg1}</ul>\n\t\t\t\t</Panel>\n\t\t\t</div>\n\t\t\t{secondLang &&\n\t\t\t\tisMembersLg2 && (\n\t\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t\t<Panel title={D.childrenClassifications} context=\"classifications\">\n\t\t\t\t\t\t\t<ul>{membersLg2}</ul>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t</div>\n\t);\n};\n","import React, { Component } from 'react';\nimport CheckSecondLang from 'js/components/shared/second-lang-checkbox';\nimport PageTitle from 'js/components/shared/page-title';\nimport PageSubtitle from 'js/components/shared/page-subtitle';\nimport Controls from './controls';\nimport General from './general';\nimport Notes from './notes';\nimport Members from './members';\n\nclass SeriesVisualization extends Component {\n\trender() {\n\t\tconst { series: { general, members }, secondLang, langs } = this.props;\n\t\tconst notes = {\n\t\t\tscopeNoteLg1: general.scopeNoteLg1,\n\t\t\tscopeNoteLg2: general.scopeNoteLg2,\n\t\t};\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<CheckSecondLang\n\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\tonChange={this.props.saveSecondLang}\n\t\t\t\t/>\n\t\t\t\t<PageTitle title={general.prefLabelLg1} context=\"classifications\" />\n\t\t\t\t{general.prefLabelLg2 && (\n\t\t\t\t\t<PageSubtitle\n\t\t\t\t\t\tsubtitle={general.prefLabelLg2}\n\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<Controls />\n\t\t\t\t<General general={general} secondLang={secondLang} langs={langs} />\n\t\t\t\t{notes.scopeNoteLg1 && (\n\t\t\t\t\t<Notes notes={notes} secondLang={secondLang} langs={langs} />\n\t\t\t\t)}\n\t\t\t\t{members.length !== 0 && (\n\t\t\t\t\t<Members members={members} secondLang={secondLang} />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SeriesVisualization;\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\n\nexport default id => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATIONS_SERIES_GENERAL,\n\t\tpayload: {\n\t\t\tid,\n\t\t},\n\t});\n\treturn api.getSeriesGeneral(id).then(\n\t\tresults => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATIONS_SERIES_GENERAL_SUCCESS,\n\t\t\t\tpayload: { id, results },\n\t\t\t});\n\t\t\treturn results;\n\t\t},\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATIONS_SERIES_GENERAL_FAILURE,\n\t\t\t\tpayload: { err, id },\n\t\t\t})\n\t);\n};\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\n\nexport default id => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATIONS_SERIES_MEMBERS,\n\t\tpayload: {\n\t\t\tid,\n\t\t},\n\t});\n\treturn api.getSeriesMembers(id).then(\n\t\tresults => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATIONS_SERIES_MEMBERS_SUCCESS,\n\t\t\t\tpayload: { id, results },\n\t\t\t});\n\t\t\treturn results;\n\t\t},\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATIONS_SERIES_MEMBERS_FAILURE,\n\t\t\t\tpayload: { err, id },\n\t\t\t})\n\t);\n};\n","import React, { Component } from 'react';\nimport { PropTypes } from 'prop-types';\nimport { connect } from 'react-redux';\nimport SeriesVisualization from './home';\nimport Loading from 'js/components/shared/loading';\nimport loadSeries from 'js/actions/classifications/series/series';\nimport { saveSecondLang } from 'js/actions/app';\nimport * as mainSelect from 'js/reducers';\nimport * as select from 'js/reducers/classifications/series';\nimport buildExtract from 'js/utils/build-extract';\nimport { getSecondLang } from 'js/reducers/app';\n\nconst extractId = buildExtract('id');\n\nclass SeriesVisualizationContainer extends Component {\n\tconstructor(props) {\n\t\tsuper();\n\t}\n\tcomponentWillMount() {\n\t\tconst { series, id } = this.props;\n\t\tif (!series) this.props.loadSeries(id);\n\t}\n\trender() {\n\t\tconst { series, secondLang, langs } = this.props;\n\t\tif (!series)\n\t\t\treturn <Loading textType=\"loading\" context=\"classifications\" />;\n\t\treturn (\n\t\t\t<SeriesVisualization\n\t\t\t\tseries={series}\n\t\t\t\tsecondLang={secondLang}\n\t\t\t\tsaveSecondLang={this.props.saveSecondLang}\n\t\t\t\tlangs={langs}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst id = extractId(ownProps);\n\tconst series = select.getSeries(state, id);\n\tconst secondLang = getSecondLang(state);\n\tconst langs = mainSelect.getLangs(state);\n\treturn {\n\t\tid,\n\t\tseries,\n\t\tsecondLang,\n\t\tlangs,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tsaveSecondLang,\n\tloadSeries,\n};\n\nSeriesVisualizationContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SeriesVisualizationContainer);\n\nSeriesVisualizationContainer.propTypes = {\n\tmatch: PropTypes.shape({\n\t\tparams: PropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t}),\n\t}),\n};\nexport default SeriesVisualizationContainer;\n","import loadGeneral from './general';\nimport loadMembers from './members';\n\nexport default id => dispatch =>\n\tPromise.all([dispatch(loadGeneral(id)), dispatch(loadMembers(id))]);\n","import { getGeneral } from './general';\nimport { getMembers } from './members';\n\nexport function getSeries(state, id) {\n\tconst general = getGeneral(state.classificationSeriesGeneral, id);\n\tif (!general) return;\n\tconst members = getMembers(state.classificationSeriesMembers, id);\n\tif (!members) return;\n\treturn {\n\t\tgeneral,\n\t\tmembers,\n\t};\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PageTitle from 'js/components/shared/page-title';\nimport SearchRmes from 'js/components/shared/search-rmes/search-rmes';\nimport D from 'js/i18n';\n\nconst ClassificationsHome = ({ classifications }) => {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-8 col-md-offset-2 centered\">\n\t\t\t\t\t<PageTitle\n\t\t\t\t\t\ttitle={D.classificationsSearchTitle}\n\t\t\t\t\t\tcol={12}\n\t\t\t\t\t\toffset={0}\n\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t/>\n\t\t\t\t\t<SearchRmes\n\t\t\t\t\t\titems={classifications}\n\t\t\t\t\t\tchildPath=\"classifications/classification\"\n\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nClassificationsHome.propTypes = {\n\titems: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t\tlabel: PropTypes.string.isRequired,\n\t\t}).isRequired\n\t),\n};\n\nexport default ClassificationsHome;\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\nimport { sortArray } from 'js/utils/array-utils';\n\nconst sortByLabel = sortArray('label');\n\nexport default () => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATIONS_LIST,\n\t\tpayload: {},\n\t});\n\treturn api.getList().then(\n\t\tresults =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATIONS_LIST_SUCCESS,\n\t\t\t\tpayload: { results: sortByLabel(results) },\n\t\t\t}),\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATIONS_LIST_FAILURE,\n\t\t\t\tpayload: { err },\n\t\t\t})\n\t);\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loading from 'js/components/shared/loading';\nimport ClassificationsHome from './home';\nimport { NOT_LOADED } from 'js/constants';\nimport loadClassificationsList from 'js/actions/classifications/list';\nimport { getClassificationsList } from 'js/reducers/classifications/selector';\nclass ClassificationsHomeContainer extends Component {\n\tcomponentWillMount() {\n\t\tif (!this.props.classifications) {\n\t\t\tthis.props.loadClassificationsList();\n\t\t}\n\t}\n\trender() {\n\t\tconst { classifications } = this.props;\n\t\tif (!classifications)\n\t\t\treturn <Loading textType=\"loading\" context=\"classifications\" />;\n\t\treturn <ClassificationsHome classifications={classifications} />;\n\t}\n}\n\nexport const mapStateToProps = state => {\n\tconst classificationsList = getClassificationsList(state);\n\tif (!classificationsList) {\n\t\treturn {\n\t\t\tstatus: NOT_LOADED,\n\t\t\tclassifications: [],\n\t\t};\n\t}\n\tlet { results: classifications, status, err } = classificationsList;\n\n\treturn {\n\t\tclassifications,\n\t\tstatus,\n\t\terr,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tloadClassificationsList,\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ClassificationsHomeContainer);\n","export function getClassificationsList(state) {\n\treturn state.classificationsList;\n}\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Button from 'js/components/shared/button';\nimport { goBack } from 'js/utils/redirection';\nimport D from 'js/i18n';\n\nconst ClassificationControls = props => {\n\tconst location = props.history.location.pathname;\n\tconst treeLocation = `${location}/tree`;\n\n\treturn (\n\t\t<div className=\"row btn-line\">\n\t\t\t<Button\n\t\t\t\tkey={D.btnReturn}\n\t\t\t\taction={goBack(props, `/classifications`)}\n\t\t\t\tlabel={D.btnReturn}\n\t\t\t\tcontext=\"classifications\"\n\t\t\t/>\n\t\t\t<div className=\"col-md-7\" />\n\t\t\t<Button\n\t\t\t\tkey={D.btnTree}\n\t\t\t\taction={treeLocation}\n\t\t\t\tlabel={D.btnTree}\n\t\t\t\tcontext=\"classifications\"\n\t\t\t\tcol={3}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default withRouter(ClassificationControls);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport D from 'js/i18n';\nimport Panel from 'js/components/shared/panel';\nimport { stringToDate } from 'js/utils/moment';\nimport { DSURLToLabel } from 'js/utils/dissemination-status-convertor';\n\nexport default ({ general, secondLang, langs }) => {\n\tconst { lg1, lg2 } = langs;\n\tlet mapping = {};\n\tmapping = {\n\t\t...mapping,\n\t\tseriesLg1: D.motherSeries,\n\t\tafterLg1: D.classificationsAfterTitle,\n\t\tbeforeLg1: D.classificationsBeforeTitle,\n\t\tvariantLg1: D.classificationsVariantTitle,\n\t};\n\tif (general.altLabelLg1) {\n\t\tmapping = {\n\t\t\t...mapping,\n\t\t\taltLabelLg1: `${D.altLabelTitle} (${lg1})`,\n\t\t};\n\t}\n\tif (general.altLabelLg2) {\n\t\tmapping = {\n\t\t\t...mapping,\n\t\t\taltLabelLg2: `${D.altLabelTitle} (${lg2})`,\n\t\t};\n\t}\n\tmapping = {\n\t\t...mapping,\n\t\tissued: D.issuedDateTitle,\n\t\tvalid: D.validDateTitle,\n\t\tlastRefreshedOn: D.lastRefreshedOnDateTitle,\n\t\tcreator: D.creatorTitle,\n\t\tcontributor: D.contributorTitle,\n\t\tdisseminationStatus: D.disseminationStatusTitle,\n\t\trights: D.rightsTitle,\n\t\tadditionalMaterial: D.additionalMaterialTitle,\n\t\tlegalMaterial: D.legalMaterialTitle,\n\t\thomepage: D.homepageTitle,\n\t};\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-md-12\">\n\t\t\t\t<Panel title={D.globalInformationsTitle} context=\"classifications\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{Object.keys(mapping).map(fieldName => {\n\t\t\t\t\t\t\tif (general.hasOwnProperty(fieldName) && general[fieldName]) {\n\t\t\t\t\t\t\t\tif (fieldName === 'seriesLg1') {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t\t\t\t\t\t\t{mapping[fieldName]} :{' '}\n\t\t\t\t\t\t\t\t\t\t\t<Link to={`/classifications/series/${general.idSeries}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t{general[fieldName]}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t{secondLang && general.seriesLg2 && (\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{' ('}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/classifications/series/${general.idSeries}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{general.seriesLg2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{')'}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (fieldName === 'afterLg1') {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t\t\t\t\t\t\t{mapping[fieldName]} :{' '}\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/classifications/classification/${\n\t\t\t\t\t\t\t\t\t\t\t\t\tgeneral.idAfter\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{general[fieldName]}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t{secondLang && general.afterLg2 && (\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{' ('}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/classifications/classification/${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgeneral.idAfter\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{general.afterLg2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{')'}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (fieldName === 'beforeLg1') {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t\t\t\t\t\t\t{mapping[fieldName]} :{' '}\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/classifications/classification/${\n\t\t\t\t\t\t\t\t\t\t\t\t\tgeneral.idBefore\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{general[fieldName]}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t{secondLang && general.beforeLg2 && (\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{' ('}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/classifications/classification/${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgeneral.idBefore\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{general.beforeLg2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{')'}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (fieldName === 'variantLg1') {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t\t\t\t\t\t\t{mapping[fieldName]} :{' '}\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/classifications/classification/${\n\t\t\t\t\t\t\t\t\t\t\t\t\tgeneral.idVariant\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{general[fieldName]}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t{secondLang && general.variantLg2 && (\n\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{' ('}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/classifications/classification/${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgeneral.idVariant\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{general.variantLg2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{')'}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t['additionalMaterial', 'legalMaterial'].includes(fieldName)\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t\t\t\t\t\t\t{`${mapping[fieldName]} : `}\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref={general[fieldName]}\n\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t\t\t>{`${general[fieldName]}`}</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (fieldName === 'disseminationStatus') {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t\t\t\t\t\t\t{`${mapping[fieldName]} : ${DSURLToLabel(\n\t\t\t\t\t\t\t\t\t\t\t\tgeneral[fieldName]\n\t\t\t\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (fieldName === 'altLabelLg2' && !secondLang) {\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (fieldName.includes('altLabel')) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t\t\t\t\t\t\t{`${mapping[fieldName]} : ${general[fieldName]\n\t\t\t\t\t\t\t\t\t\t\t\t.split(' || ')\n\t\t\t\t\t\t\t\t\t\t\t\t.join(' - ')}`}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t['issued', 'valid', 'lastRefreshedOn'].includes(fieldName)\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t\t\t\t\t\t\t{`${mapping[fieldName]} : ${stringToDate(\n\t\t\t\t\t\t\t\t\t\t\t\tgeneral[fieldName]\n\t\t\t\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>{`${mapping[fieldName]} : ${\n\t\t\t\t\t\t\t\t\t\t\tgeneral[fieldName]\n\t\t\t\t\t\t\t\t\t\t}`}</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ul>\n\t\t\t\t</Panel>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from 'react';\nimport { ExplanatoryNote } from 'js/components/shared/explanatory-note';\nimport D from 'js/i18n';\n\nexport default ({\n\tnotes: {\n\t\tscopeNoteLg1,\n\t\tscopeNoteLg2,\n\t\tchangeNoteLg1,\n\t\tchangeNoteLg2,\n\t\tdescriptionLg1,\n\t\tdescriptionLg2,\n\t},\n\tsecondLang,\n\tlangs: { lg1, lg2 },\n}) => (\n\t<div>\n\t\t<span>\n\t\t\t{descriptionLg1 && (\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<ExplanatoryNote\n\t\t\t\t\t\ttext={descriptionLg1}\n\t\t\t\t\t\ttitle={D.classificationsDescription}\n\t\t\t\t\t\tlang={lg1}\n\t\t\t\t\t\talone={!secondLang}\n\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t/>\n\t\t\t\t\t{secondLang && (\n\t\t\t\t\t\t<ExplanatoryNote\n\t\t\t\t\t\t\ttext={descriptionLg2}\n\t\t\t\t\t\t\ttitle={D.classificationsDescription}\n\t\t\t\t\t\t\tlang={lg2}\n\t\t\t\t\t\t\talone={false}\n\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</span>\n\t\t<span>\n\t\t\t{scopeNoteLg1 && (\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<ExplanatoryNote\n\t\t\t\t\t\ttext={scopeNoteLg1}\n\t\t\t\t\t\ttitle={D.classificationsScopeNote}\n\t\t\t\t\t\tlang={lg1}\n\t\t\t\t\t\talone={!secondLang}\n\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t/>\n\t\t\t\t\t{secondLang && (\n\t\t\t\t\t\t<ExplanatoryNote\n\t\t\t\t\t\t\ttext={scopeNoteLg2}\n\t\t\t\t\t\t\ttitle={D.classificationsScopeNote}\n\t\t\t\t\t\t\tlang={lg2}\n\t\t\t\t\t\t\talone={false}\n\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</span>\n\t\t<span>\n\t\t\t{changeNoteLg1 && (\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<ExplanatoryNote\n\t\t\t\t\t\ttext={changeNoteLg1}\n\t\t\t\t\t\ttitle={D.classificationsChangeNote()}\n\t\t\t\t\t\tlang={lg1}\n\t\t\t\t\t\talone={!secondLang}\n\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t/>\n\t\t\t\t\t{secondLang && (\n\t\t\t\t\t\t<ExplanatoryNote\n\t\t\t\t\t\t\ttext={changeNoteLg2}\n\t\t\t\t\t\t\ttitle={D.classificationsChangeNote()}\n\t\t\t\t\t\t\tlang={lg2}\n\t\t\t\t\t\t\talone={false}\n\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</span>\n\t</div>\n);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Panel from 'js/components/shared/panel';\nimport D from 'js/i18n';\n\nexport default ({ levels, classificationId, secondLang }) => {\n\tconst levelsLg1 = levels.map((m, i) => (\n\t\t<li key={i}>\n\t\t\t<Link\n\t\t\t\tto={`/classifications/classification/${classificationId}/level/${m.id}`}\n\t\t\t>\n\t\t\t\t{m.labelLg1}\n\t\t\t</Link>\n\t\t</li>\n\t));\n\tlet levelsLg2 = [];\n\tif (secondLang)\n\t\tlevelsLg2 = levels.map(\n\t\t\t(m, i) =>\n\t\t\t\tm.labelLg2 ? (\n\t\t\t\t\t<li key={i}>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/classifications/classification/${classificationId}/level/${\n\t\t\t\t\t\t\t\tm.id\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{m.labelLg2}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t) : null\n\t\t);\n\tconst isMembersLg2 = levelsLg2.filter(m => m !== null).length !== 0;\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className={`col-md-${secondLang ? 6 : 12}`}>\n\t\t\t\t<Panel title={D.classificationLevelsTitle} context=\"classifications\">\n\t\t\t\t\t<ul>{levelsLg1}</ul>\n\t\t\t\t</Panel>\n\t\t\t</div>\n\t\t\t{secondLang &&\n\t\t\t\tisMembersLg2 && (\n\t\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t\t<Panel\n\t\t\t\t\t\t\ttitle={D.classificationLevelsTitle}\n\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ul>{levelsLg2}</ul>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t</div>\n\t);\n};\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport CheckSecondLang from 'js/components/shared/second-lang-checkbox';\nimport PageTitle from 'js/components/shared/page-title';\nimport PageSubtitle from 'js/components/shared/page-subtitle';\nimport Controls from './controls';\nimport General from './general';\nimport Notes from './notes';\nimport Levels from './levels';\nimport D from 'js/i18n';\n\nclass ClassificationVisualization extends Component {\n\trender() {\n\t\tconst {\n\t\t\tclassification: { general, levels },\n\t\t\tclassificationId,\n\t\t\tsecondLang,\n\t\t\tlangs,\n\t\t} = this.props;\n\t\tconst notes = {\n\t\t\tscopeNoteLg1: general.scopeNoteLg1,\n\t\t\tscopeNoteLg2: general.scopeNoteLg2,\n\t\t\tchangeNoteLg1: general.changeNoteLg1,\n\t\t\tchangeNoteLg2: general.changeNoteLg2,\n\t\t\tdescriptionLg1: general.descriptionLg1,\n\t\t\tdescriptionLg2: general.descriptionLg2,\n\t\t};\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<CheckSecondLang\n\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\tonChange={this.props.saveSecondLang}\n\t\t\t\t/>\n\t\t\t\t<PageTitle title={general.prefLabelLg1} context=\"classifications\" />\n\t\t\t\t{general.prefLabelLg2 && (\n\t\t\t\t\t<PageSubtitle\n\t\t\t\t\t\tsubtitle={general.prefLabelLg2}\n\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-md-12 centered\">\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/classifications/classification/${classificationId}/items`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<h3 className=\"glyphicon glyphicon-zoom-in inline\"> </h3>\n\t\t\t\t\t\t\t<h3 className=\"inline\">{D.classificationAllItemsTitle}</h3>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Controls />\n\t\t\t\t<General general={general} secondLang={secondLang} langs={langs} />\n\t\t\t\t{notes.scopeNoteLg1 && (\n\t\t\t\t\t<Notes notes={notes} secondLang={secondLang} langs={langs} />\n\t\t\t\t)}\n\t\t\t\t{levels.length !== 0 && (\n\t\t\t\t\t<Levels\n\t\t\t\t\t\tlevels={levels}\n\t\t\t\t\t\tclassificationId={general.id}\n\t\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ClassificationVisualization;\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\n\nexport default id => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATION_GENERAL,\n\t\tpayload: {\n\t\t\tid,\n\t\t},\n\t});\n\treturn api.getClassificationGeneral(id).then(\n\t\tresults => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_GENERAL_SUCCESS,\n\t\t\t\tpayload: { id, results },\n\t\t\t});\n\t\t\treturn results;\n\t\t},\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_GENERAL_FAILURE,\n\t\t\t\tpayload: { err, id },\n\t\t\t})\n\t);\n};\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\n\nexport default id => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATION_LEVELS,\n\t\tpayload: {\n\t\t\tid,\n\t\t},\n\t});\n\treturn api.getClassificationLevels(id).then(\n\t\tresults => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_LEVELS_SUCCESS,\n\t\t\t\tpayload: { id, results },\n\t\t\t});\n\t\t\treturn results;\n\t\t},\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_LEVELS_FAILURE,\n\t\t\t\tpayload: { err, id },\n\t\t\t})\n\t);\n};\n","import React, { Component } from 'react';\nimport { PropTypes } from 'prop-types';\nimport { connect } from 'react-redux';\nimport ClassificationVisualization from './home';\nimport Loading from 'js/components/shared/loading';\nimport loadClassification from 'js/actions/classifications/classification';\nimport { saveSecondLang } from 'js/actions/app';\nimport * as mainSelect from 'js/reducers';\nimport * as select from 'js/reducers/classifications/classification';\nimport buildExtract from 'js/utils/build-extract';\nimport { getSecondLang } from 'js/reducers/app';\n\nconst extractId = buildExtract('id');\n\nclass ClassificationVisualizationContainer extends Component {\n\tconstructor(props) {\n\t\tsuper();\n\t}\n\tcomponentWillMount() {\n\t\tconst { classification, id } = this.props;\n\t\tif (!classification) this.props.loadClassification(id);\n\t}\n\tcomponentWillReceiveProps({ id }) {\n\t\tif (id !== this.props.id) {\n\t\t\tthis.props.loadClassification(id);\n\t\t}\n\t}\n\trender() {\n\t\tconst { classification, id, secondLang, langs } = this.props;\n\t\tif (!classification)\n\t\t\treturn <Loading textType=\"loading\" context=\"classifications\" />;\n\t\treturn (\n\t\t\t<ClassificationVisualization\n\t\t\t\tclassification={classification}\n\t\t\t\tclassificationId={id}\n\t\t\t\tsecondLang={secondLang}\n\t\t\t\tsaveSecondLang={this.props.saveSecondLang}\n\t\t\t\tlangs={langs}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst id = extractId(ownProps);\n\tconst classification = select.getClassification(state, id);\n\tconst secondLang = getSecondLang(state);\n\tconst langs = mainSelect.getLangs(state);\n\treturn {\n\t\tid,\n\t\tclassification,\n\t\tsecondLang,\n\t\tlangs,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tsaveSecondLang,\n\tloadClassification,\n};\n\nClassificationVisualizationContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ClassificationVisualizationContainer);\n\nClassificationVisualizationContainer.propTypes = {\n\tmatch: PropTypes.shape({\n\t\tparams: PropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t}),\n\t}),\n};\nexport default ClassificationVisualizationContainer;\n","import loadGeneral from './general';\nimport loadLevels from './levels';\n\nexport default id => dispatch =>\n\tPromise.all([dispatch(loadGeneral(id)), dispatch(loadLevels(id))]);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport Button from 'js/components/shared/button';\nimport PlaceHolder from 'js/components/shared/placeholder/placeholder';\nimport { goBack } from 'js/utils/redirection';\nimport D from 'js/i18n';\n\nclass ClassificationControls extends Component {\n\trender() {\n\t\tconst location = this.props.history.location.pathname;\n\t\tconst nextLocation = location.replace('/items', '');\n\t\tconst cancel = [goBack(this.props, nextLocation), D.btnReturn];\n\t\tconst btns = [cancel, null, null, null, null, null];\n\n\t\treturn (\n\t\t\t<div className=\"row btn-line\">\n\t\t\t\t{btns.map((btn, i) => {\n\t\t\t\t\tif (!btn) return <PlaceHolder key={i} />;\n\t\t\t\t\tconst [action, label] = btn;\n\t\t\t\t\treturn (\n\t\t\t\t\t\tbtn && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey={label}\n\t\t\t\t\t\t\t\taction={action}\n\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nClassificationControls.propTypes = {\n\tid: PropTypes.string,\n};\n\nexport default withRouter(ClassificationControls);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CheckSecondLang from 'js/components/shared/second-lang-checkbox';\nimport PageTitle from 'js/components/shared/page-title';\nimport Controls from './controls';\nimport SearchRmes from 'js/components/shared/search-rmes/search-rmes';\nimport D from 'js/i18n';\n\nconst ClassificationTree = ({\n\titems,\n\tsubtitle,\n\tclassificationId,\n\tsecondLang,\n\tsaveSecondLang,\n}) => {\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"container\">\n\t\t\t\t<CheckSecondLang secondLang={secondLang} onChange={saveSecondLang} />\n\t\t\t\t<PageTitle\n\t\t\t\t\ttitle={D.classificationAllItemsTitle}\n\t\t\t\t\tsubtitle={subtitle}\n\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t/>\n\t\t\t\t<Controls />\n\t\t\t\t{items.length !== 0 && (\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-md-8 col-md-offset-2 centered\">\n\t\t\t\t\t\t\t<SearchRmes\n\t\t\t\t\t\t\t\titems={items}\n\t\t\t\t\t\t\t\tchildPath={`classifications/classification/${classificationId}/item`}\n\t\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nClassificationTree.propTypes = {\n\titems: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t\tlabel: PropTypes.string.isRequired,\n\t\t}).isRequired\n\t),\n\tclassificationId: PropTypes.string.isRequired,\n};\n\nexport default ClassificationTree;\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\n\nexport default id => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATION_ITEMS,\n\t\tpayload: {\n\t\t\tid,\n\t\t},\n\t});\n\treturn api.getClassificationItems(id).then(\n\t\tresults => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_ITEMS_SUCCESS,\n\t\t\t\tpayload: { id, results },\n\t\t\t});\n\t\t\treturn results;\n\t\t},\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_ITEMS_FAILURE,\n\t\t\t\tpayload: { err, id },\n\t\t\t})\n\t);\n};\n","import React, { Component } from 'react';\nimport { PropTypes } from 'prop-types';\nimport { connect } from 'react-redux';\nimport ClassificationItems from './home';\nimport Loading from 'js/components/shared/loading';\nimport loadClassificationItems from 'js/actions/classifications/items';\nimport loadClassificationGeneral from 'js/actions/classifications/general';\nimport { saveSecondLang } from 'js/actions/app';\nimport * as selectT from 'js/reducers/classifications/items';\nimport * as selectG from 'js/reducers/classifications/classification/general';\nimport buildExtract from 'js/utils/build-extract';\nimport { getSecondLang } from 'js/reducers/app';\n\nconst extractId = buildExtract('id');\n\nclass ClassificationItemsContainer extends Component {\n\tconstructor(props) {\n\t\tsuper();\n\t}\n\tcomponentWillMount() {\n\t\tconst { items, general, id } = this.props;\n\t\tif (!items) this.props.loadClassificationItems(id);\n\t\tif (!general) this.props.loadClassificationGeneral(id);\n\t}\n\tcomponentWillReceiveProps({ id }) {\n\t\tif (id !== this.props.id) {\n\t\t\tthis.props.loadClassificationItems(id);\n\t\t\tthis.props.loadClassificationGeneral(id);\n\t\t}\n\t}\n\trender() {\n\t\tconst { items, general, id, secondLang } = this.props;\n\n\t\tif (!(items && general))\n\t\t\treturn <Loading textType=\"loading\" context=\"classifications\" />;\n\n\t\tconst { prefLabelLg1, prefLabelLg2 } = general;\n\t\tconst label = secondLang ? 'labelLg2' : 'labelLg1';\n\t\tconst data =\n\t\t\t(items.length !== 0 &&\n\t\t\t\titems[0][label] &&\n\t\t\t\titems.map(n => ({\n\t\t\t\t\tid: n.id,\n\t\t\t\t\tlabel: `${n.id} - ${n[label]}`,\n\t\t\t\t}))) ||\n\t\t\t[];\n\n\t\treturn (\n\t\t\t<ClassificationItems\n\t\t\t\titems={data}\n\t\t\t\tsubtitle={secondLang ? prefLabelLg2 : prefLabelLg1}\n\t\t\t\tclassificationId={id}\n\t\t\t\tsecondLang={secondLang}\n\t\t\t\tsaveSecondLang={this.props.saveSecondLang}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst id = extractId(ownProps);\n\tconst items = selectT.getItems(state, id);\n\tconst general = selectG.getGeneral(state.classificationGeneral, id);\n\tconst secondLang = getSecondLang(state);\n\treturn {\n\t\tid,\n\t\titems,\n\t\tgeneral,\n\t\tsecondLang,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tloadClassificationItems,\n\tloadClassificationGeneral,\n\tsaveSecondLang,\n};\n\nClassificationItemsContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ClassificationItemsContainer);\n\nClassificationItemsContainer.propTypes = {\n\tmatch: PropTypes.shape({\n\t\tparams: PropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t}),\n\t}),\n};\nexport default ClassificationItemsContainer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport Button from 'js/components/shared/button';\nimport PlaceHolder from 'js/components/shared/placeholder/placeholder';\nimport { goBack } from 'js/utils/redirection';\nimport D from 'js/i18n';\n\nclass ClassificationControls extends Component {\n\trender() {\n\t\tconst location = this.props.history.location.pathname;\n\t\tconst nextLocation = location.replace('/tree', '');\n\t\tconst cancel = [goBack(this.props, nextLocation), D.btnReturn];\n\t\tconst btns = [cancel, null, null, null, null, null];\n\n\t\treturn (\n\t\t\t<div className=\"row btn-line\">\n\t\t\t\t{btns.map((btn, i) => {\n\t\t\t\t\tif (!btn) return <PlaceHolder key={i} />;\n\t\t\t\t\tconst [action, label] = btn;\n\t\t\t\t\treturn (\n\t\t\t\t\t\tbtn && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey={label}\n\t\t\t\t\t\t\t\taction={action}\n\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nClassificationControls.propTypes = {\n\tid: PropTypes.string,\n};\n\nexport default withRouter(ClassificationControls);\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport SortableTree from 'react-sortable-tree';\nimport 'react-sortable-tree/style.css';\nimport './dnd.scss';\n\nexport default class RmesTree extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { treeData: props.treeData };\n\t}\n\n\tcomponentWillReceiveProps({ treeData }) {\n\t\tif (treeData !== this.props.treeData) this.setState({ treeData });\n\t}\n\n\trender() {\n\t\tconst { treeData } = this.state;\n\t\tconst { canDrag, linkPath } = this.props;\n\n\t\treturn (\n\t\t\t<div style={{ width: '100%', height: '80vh' }}>\n\t\t\t\t<SortableTree\n\t\t\t\t\ttreeData={treeData}\n\t\t\t\t\tonChange={treeData => this.setState({ treeData })}\n\t\t\t\t\tcanDrag={canDrag || false}\n\t\t\t\t\tcanDrop={() => false}\n\t\t\t\t\tgenerateNodeProps={rowInfo => ({\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\t<Link to={linkPath(rowInfo.node.id)}>{rowInfo.node.label}</Link>,\n\t\t\t\t\t\t],\n\t\t\t\t\t})}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CheckSecondLang from 'js/components/shared/second-lang-checkbox';\nimport PageTitle from 'js/components/shared/page-title';\nimport Controls from './controls';\nimport DnDTree from 'js/components/shared/tree/dnd';\nimport D from 'js/i18n';\n\nconst ClassificationTree = ({\n\tdata,\n\tprefLabel,\n\tsecondLang,\n\tsaveSecondLang,\n}) => {\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"container\">\n\t\t\t\t<CheckSecondLang secondLang={secondLang} onChange={saveSecondLang} />\n\t\t\t\t<PageTitle\n\t\t\t\t\ttitle={D.classificationTreeTitle}\n\t\t\t\t\tsubtitle={prefLabel}\n\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t/>\n\t\t\t\t<Controls />\n\t\t\t\t{data.length !== 0 && (\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-md-12\">\n\t\t\t\t\t\t\t<DnDTree treeData={data} linkPath={id => `item/${id}`} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nClassificationTree.propTypes = {\n\tdata: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t\tlabel: PropTypes.string.isRequired,\n\t\t\tparent: PropTypes.string,\n\t\t}).isRequired\n\t),\n\tprefLabel: PropTypes.string.isRequired,\n\tsecondLang: PropTypes.bool.isRequired,\n\tsaveSecondLang: PropTypes.func.isRequired,\n};\n\nexport default ClassificationTree;\n","import React, { Component } from 'react';\nimport { PropTypes } from 'prop-types';\nimport { connect } from 'react-redux';\nimport ClassificationTree from './home';\nimport Loading from 'js/components/shared/loading';\nimport loadClassificationItems from 'js/actions/classifications/items';\nimport loadClassificationGeneral from 'js/actions/classifications/general';\nimport { saveSecondLang } from 'js/actions/app';\nimport * as selectT from 'js/reducers/classifications/items';\nimport * as selectG from 'js/reducers/classifications/classification/general';\nimport buildExtract from 'js/utils/build-extract';\nimport { getTreeFromFlatData } from 'react-sortable-tree';\nimport { getSecondLang } from 'js/reducers/app';\n\nconst extractId = buildExtract('id');\n\nclass ClassificationTreeContainer extends Component {\n\tconstructor(props) {\n\t\tsuper();\n\t}\n\tcomponentWillMount() {\n\t\tconst { flatTree, general, id } = this.props;\n\t\tif (!flatTree) this.props.loadClassificationItems(id);\n\t\tif (!general) this.props.loadClassificationGeneral(id);\n\t}\n\tcomponentWillReceiveProps({ id }) {\n\t\tif (id !== this.props.id) {\n\t\t\tthis.props.loadClassificationItems(id);\n\t\t\tthis.props.loadClassificationGeneral(id);\n\t\t}\n\t}\n\trender() {\n\t\tconst { flatTree, general, secondLang } = this.props;\n\t\tif (!(flatTree && general))\n\t\t\treturn <Loading textType=\"loading\" context=\"classifications\" />;\n\t\tconst { prefLabelLg1, prefLabelLg2 } = general;\n\t\tconst label = secondLang ? 'labelLg2' : 'labelLg1';\n\t\tconst data =\n\t\t\t(flatTree.length !== 0 &&\n\t\t\t\tflatTree[0][label] &&\n\t\t\t\tgetTreeFromFlatData({\n\t\t\t\t\tflatData: flatTree.map(n => ({\n\t\t\t\t\t\tid: n.id,\n\t\t\t\t\t\t//title: '',\n\t\t\t\t\t\tlabel: n[label] ? `${n.id} - ${n[label]}` : n.id,\n\t\t\t\t\t\tparent: n.parent || null,\n\t\t\t\t\t})),\n\t\t\t\t\tgetKey: node => node.id,\n\t\t\t\t\tgetParentKey: node => node.parent,\n\t\t\t\t\trootKey: null,\n\t\t\t\t})) ||\n\t\t\t[];\n\t\treturn (\n\t\t\t<ClassificationTree\n\t\t\t\tprefLabel={secondLang ? prefLabelLg2 : prefLabelLg1}\n\t\t\t\tdata={data}\n\t\t\t\tsecondLang={secondLang}\n\t\t\t\tsaveSecondLang={this.props.saveSecondLang}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst id = extractId(ownProps);\n\tconst flatTree = selectT.getItems(state, id);\n\tconst general = selectG.getGeneral(state.classificationGeneral, id);\n\tconst secondLang = getSecondLang(state);\n\treturn {\n\t\tid,\n\t\tflatTree,\n\t\tgeneral,\n\t\tsecondLang,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tloadClassificationItems,\n\tloadClassificationGeneral,\n\tsaveSecondLang,\n};\n\nClassificationTreeContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ClassificationTreeContainer);\n\nClassificationTreeContainer.propTypes = {\n\tmatch: PropTypes.shape({\n\t\tparams: PropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t}),\n\t}),\n};\nexport default ClassificationTreeContainer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport Button from 'js/components/shared/button';\nimport PlaceHolder from 'js/components/shared/placeholder/placeholder';\nimport { goBack } from 'js/utils/redirection';\nimport D from 'js/i18n';\n\nclass LevelControls extends Component {\n\tstatic propTypes = {\n\t\tid: PropTypes.string.isRequired,\n\t};\n\n\trender() {\n\t\tconst { id } = this.props;\n\t\tconst cancel = [\n\t\t\tgoBack(this.props, `/classifications/classification/${id}`),\n\t\t\tD.btnReturn,\n\t\t];\n\t\tconst btns = [cancel, null, null, null, null, null];\n\n\t\treturn (\n\t\t\t<div className=\"row btn-line\">\n\t\t\t\t{btns.map((btn, i) => {\n\t\t\t\t\tif (!btn) return <PlaceHolder key={i} />;\n\t\t\t\t\tconst [action, label] = btn;\n\t\t\t\t\treturn (\n\t\t\t\t\t\tbtn && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey={label}\n\t\t\t\t\t\t\t\taction={action}\n\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default withRouter(LevelControls);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport D from 'js/i18n';\nimport Panel from 'js/components/shared/panel';\n\nexport default ({ general, classificationId, secondLang }) => {\n\tconst mapping = {\n\t\tbroaderLg1: D.classificationsBroaderLevel,\n\t\tnarrowerLg1: D.classificationsNarrowerLevel,\n\t\tnotation: D.classificationsNotationTitle,\n\t\tdepth: D.classificationsDepthTitle,\n\t\tnotationPattern: D.classificationsNotationPatternTitle,\n\t};\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-md-12\">\n\t\t\t\t<Panel title={D.globalInformationsTitle} context=\"classifications\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{Object.keys(mapping).map(fieldName => {\n\t\t\t\t\t\t\tif (general.hasOwnProperty(fieldName) && general[fieldName]) {\n\t\t\t\t\t\t\t\tif (fieldName === 'broaderLg1') {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t\t\t\t\t\t\t{mapping[fieldName]} :{' '}\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/classifications/classification/${classificationId}/level/${\n\t\t\t\t\t\t\t\t\t\t\t\t\tgeneral.idBroader\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{general[fieldName]}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t{secondLang &&\n\t\t\t\t\t\t\t\t\t\t\t\tgeneral.broaderLg2 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{' ('}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/classifications/classification/${classificationId}/level/${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgeneral.idBroader\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{general.broaderLg2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{')'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (fieldName === 'narrowerLg1') {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t\t\t\t\t\t\t{mapping[fieldName]} :{' '}\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/classifications/classification/${classificationId}/level/${\n\t\t\t\t\t\t\t\t\t\t\t\t\tgeneral.idNarrower\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{general[fieldName]}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t{secondLang &&\n\t\t\t\t\t\t\t\t\t\t\t\tgeneral.narrowerLg2 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{' ('}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/classifications/classification/${classificationId}/level/${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgeneral.idNarrower\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{general.narrowerLg2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{')'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>{`${mapping[fieldName]} : ${\n\t\t\t\t\t\t\t\t\t\t\tgeneral[fieldName]\n\t\t\t\t\t\t\t\t\t\t}`}</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ul>\n\t\t\t\t</Panel>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from 'react';\nimport Panel from 'js/components/shared/panel';\nimport SearchRmes from 'js/components/shared/search-rmes/search-rmes';\nimport D from 'js/i18n';\n\nexport default ({ members, classificationId, secondLang }) => {\n\tconst membersLg1 = members.map(({ id, labelLg1 }, i) => ({\n\t\tid,\n\t\tlabel: `${id} - ${labelLg1}`,\n\t}));\n\tlet membersLg2 = [];\n\tif (secondLang && members[0].labelLg2 !== undefined) {\n\t\tmembersLg2 = members.map(({ id, labelLg2 }, i) => ({\n\t\t\tid,\n\t\t\tlabel: `${id} - ${labelLg2}`,\n\t\t}));\n\t}\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className={`col-md-${secondLang ? 6 : 12}`}>\n\t\t\t\t<Panel title={D.childrenClassificationItems} context=\"classifications\">\n\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t<SearchRmes\n\t\t\t\t\t\t\titems={membersLg1}\n\t\t\t\t\t\t\tchildPath={`classifications/classification/${classificationId}/item`}\n\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t\tcol={secondLang ? 12 : 8}\n\t\t\t\t\t\t\tcolOff={secondLang ? 0 : 2}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Panel>\n\t\t\t</div>\n\t\t\t{secondLang &&\n\t\t\t\tmembersLg2.length !== 0 && (\n\t\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t\t<Panel\n\t\t\t\t\t\t\ttitle={D.childrenClassificationItems}\n\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"centered\">\n\t\t\t\t\t\t\t\t<SearchRmes\n\t\t\t\t\t\t\t\t\titems={membersLg2}\n\t\t\t\t\t\t\t\t\tchildPath={`classifications/classification/${classificationId}/item`}\n\t\t\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t\t\t\tcol={12}\n\t\t\t\t\t\t\t\t\tcolOff={0}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t</div>\n\t);\n};\n","import React, { Component } from 'react';\nimport CheckSecondLang from 'js/components/shared/second-lang-checkbox';\nimport PageTitle from 'js/components/shared/page-title';\nimport PageSubtitle from 'js/components/shared/page-subtitle';\nimport Controls from './controls';\nimport General from './general';\nimport Members from './members';\n\nclass LevelVisualization extends Component {\n\trender() {\n\t\tconst { level: { general, members }, secondLang } = this.props;\n\t\tconst { classificationId } = general;\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<CheckSecondLang\n\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\tonChange={this.props.saveSecondLang}\n\t\t\t\t/>\n\t\t\t\t<PageTitle title={general.prefLabelLg1} context=\"classifications\" />\n\t\t\t\t{general.prefLabelLg2 && (\n\t\t\t\t\t<PageSubtitle\n\t\t\t\t\t\tsubtitle={general.prefLabelLg2}\n\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<Controls id={classificationId} />\n\t\t\t\t<General\n\t\t\t\t\tgeneral={general}\n\t\t\t\t\tclassificationId={classificationId}\n\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t/>\n\t\t\t\t{members.length !== 0 && (\n\t\t\t\t\t<Members\n\t\t\t\t\t\tmembers={members}\n\t\t\t\t\t\tclassificationId={classificationId}\n\t\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LevelVisualization;\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\n\nexport default (classificationId, levelId) => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATION_LEVEL_GENERAL,\n\t\tpayload: {\n\t\t\tclassificationId,\n\t\t\tlevelId,\n\t\t},\n\t});\n\treturn api.getClassificationLevelGeneral(classificationId, levelId).then(\n\t\tresults => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_LEVEL_GENERAL_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\tclassificationId,\n\t\t\t\t\tlevelId,\n\t\t\t\t\tresults,\n\t\t\t\t},\n\t\t\t});\n\t\t\treturn results;\n\t\t},\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_LEVEL_GENERAL_FAILURE,\n\t\t\t\tpayload: {\n\t\t\t\t\terr,\n\t\t\t\t\tclassificationId,\n\t\t\t\t\tlevelId,\n\t\t\t\t},\n\t\t\t})\n\t);\n};\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\n\nexport default (classificationId, levelId) => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATION_LEVEL_MEMBERS,\n\t\tpayload: {\n\t\t\tclassificationId,\n\t\t\tlevelId,\n\t\t},\n\t});\n\treturn api.getClassificationLevelMembers(classificationId, levelId).then(\n\t\tresults => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_LEVEL_MEMBERS_SUCCESS,\n\t\t\t\tpayload: { classificationId, levelId, results },\n\t\t\t});\n\t\t\treturn results;\n\t\t},\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_LEVEL_MEMBERS_FAILURE,\n\t\t\t\tpayload: { err, classificationId, levelId },\n\t\t\t})\n\t);\n};\n","import React, { Component } from 'react';\nimport { PropTypes } from 'prop-types';\nimport { connect } from 'react-redux';\nimport LevelVisualization from './home';\nimport Loading from 'js/components/shared/loading';\nimport loadLevel from 'js/actions/classifications/level';\nimport { saveSecondLang } from 'js/actions/app';\nimport * as select from 'js/reducers/classifications/level';\nimport buildExtract from 'js/utils/build-extract';\nimport { getSecondLang } from 'js/reducers/app';\n\nconst extractClassificationId = buildExtract('classificationId');\nconst extractLevelId = buildExtract('levelId');\n\nclass LevelVisualizationContainer extends Component {\n\tconstructor(props) {\n\t\tsuper();\n\t}\n\tcomponentWillMount() {\n\t\tconst { classificationId, levelId, level } = this.props;\n\t\tif (!level) this.props.loadLevel(classificationId, levelId);\n\t}\n\tcomponentWillReceiveProps({ levelId }) {\n\t\tif (levelId !== this.props.levelId) {\n\t\t\tthis.props.loadLevel(this.props.classificationId, levelId);\n\t\t}\n\t}\n\trender() {\n\t\tconst { level, secondLang } = this.props;\n\t\tif (!level) return <Loading textType=\"loading\" context=\"classifications\" />;\n\t\treturn (\n\t\t\t<LevelVisualization\n\t\t\t\tlevel={level}\n\t\t\t\tsecondLang={secondLang}\n\t\t\t\tsaveSecondLang={this.props.saveSecondLang}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst classificationId = extractClassificationId(ownProps);\n\tconst levelId = extractLevelId(ownProps);\n\tconst level = select.getLevel(state, classificationId, levelId);\n\tconst secondLang = getSecondLang(state);\n\treturn {\n\t\tclassificationId,\n\t\tlevelId,\n\t\tlevel,\n\t\tsecondLang,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tsaveSecondLang,\n\tloadLevel,\n};\n\nLevelVisualizationContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(LevelVisualizationContainer);\n\nLevelVisualizationContainer.propTypes = {\n\tmatch: PropTypes.shape({\n\t\tparams: PropTypes.shape({\n\t\t\tclassificationId: PropTypes.string.isRequired,\n\t\t\tlevelId: PropTypes.string.isRequired,\n\t\t}),\n\t}),\n};\nexport default LevelVisualizationContainer;\n","import loadGeneral from './general';\nimport loadMembers from './members';\n\nexport default (classificationId, levelId) => dispatch =>\n\tPromise.all([\n\t\tdispatch(loadGeneral(classificationId, levelId)),\n\t\tdispatch(loadMembers(classificationId, levelId)),\n\t]);\n","import { getGeneral } from './general';\nimport { getMembers } from './members';\n\nexport function getLevel(state, classificationId, levelId) {\n\tconst general = getGeneral(\n\t\tstate.classificationLevelGeneral,\n\t\tclassificationId,\n\t\tlevelId\n\t);\n\tif (!general) return;\n\tconst members = getMembers(\n\t\tstate.classificationLevelMembers,\n\t\tclassificationId,\n\t\tlevelId\n\t);\n\tif (!members) return;\n\treturn {\n\t\tgeneral,\n\t\tmembers,\n\t};\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport Button from 'js/components/shared/button';\nimport PlaceHolder from 'js/components/shared/placeholder/placeholder';\nimport { goBack } from 'js/utils/redirection';\nimport D from 'js/i18n';\n\nclass ItemControls extends Component {\n\tstatic propTypes = {\n\t\tclassificationId: PropTypes.string.isRequired,\n\t\titemId: PropTypes.string.isRequired,\n\t\tversion: PropTypes.string.isRequired,\n\t};\n\n\trender() {\n\t\tconst { classificationId, itemId, version } = this.props;\n\t\tconst cancel = [\n\t\t\tgoBack(\n\t\t\t\tthis.props,\n\t\t\t\t`/classifications/classification/${classificationId}/items`\n\t\t\t),\n\t\t\tD.btnReturn,\n\t\t];\n\t\tconst compare =\n\t\t\t!version || version <= 1\n\t\t\t\t? null\n\t\t\t\t: [\n\t\t\t\t\t\t`/classifications/classification/${classificationId}/item/${itemId}/compare`,\n\t\t\t\t\t\tD.btnCompare,\n\t\t\t\t  ];\n\t\tconst btns = [cancel, null, null, null, null, compare];\n\n\t\treturn (\n\t\t\t<div className=\"row btn-line\">\n\t\t\t\t{btns.map((btn, i) => {\n\t\t\t\t\tif (!btn) return <PlaceHolder key={i} />;\n\t\t\t\t\tconst [action, label] = btn;\n\t\t\t\t\treturn (\n\t\t\t\t\t\tbtn && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey={label}\n\t\t\t\t\t\t\t\taction={action}\n\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(ItemControls);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport D from 'js/i18n';\nimport Panel from 'js/components/shared/panel';\n\nexport default ({ general, classificationId, itemId, secondLang }) => {\n\tconst mapping = {\n\t\tbroaderLg1: D.classificationsBroaderLevel,\n\t\titemId: D.classificationsNotationTitle,\n\t\taltLabels: length => D.classificationItemAltLabels(length),\n\t\tisValidated: D.isClassificationItemValidTitle,\n\t\tconceptVersion: D.classificationConceptVersionTitle,\n\t};\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-md-12\">\n\t\t\t\t<Panel title={D.globalInformationsTitle} context=\"classifications\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{Object.keys(mapping).map(fieldName => {\n\t\t\t\t\t\t\tif (general.hasOwnProperty(fieldName) && general[fieldName]) {\n\t\t\t\t\t\t\t\tif (fieldName === 'broaderLg1') {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t\t\t\t\t\t\t{mapping[fieldName]} :{' '}\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/classifications/classification/${classificationId}/item/${\n\t\t\t\t\t\t\t\t\t\t\t\t\tgeneral.idBroader\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{general.idBroader} - {general[fieldName]}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t{secondLang &&\n\t\t\t\t\t\t\t\t\t\t\t\tgeneral.broaderLg2 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{' ('}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/classifications/classification/${classificationId}/item/${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgeneral.idBroader\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{general.idBroader} - {general.broaderLg2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{')'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (fieldName === 'altLabels') {\n\t\t\t\t\t\t\t\t\treturn general.altLabels.map(\n\t\t\t\t\t\t\t\t\t\t({ length, shortLabelLg1, shortLabelLg2 }) => (\n\t\t\t\t\t\t\t\t\t\t\t<li key={`${fieldName}-${length}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t{`${mapping[fieldName](length)} : ${shortLabelLg1} ${\n\t\t\t\t\t\t\t\t\t\t\t\t\tshortLabelLg2\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `(\n\t\t\t\t\t\t\t\t\t\t\t\t\t${shortLabelLg2}\n\t\t\t\t\t\t\t\t\t\t\t\t)`\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (fieldName === 'isValidated') {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>{`${\n\t\t\t\t\t\t\t\t\t\t\tmapping[fieldName]\n\t\t\t\t\t\t\t\t\t\t} : ${D.classificationItemIsValidated(\n\t\t\t\t\t\t\t\t\t\t\tgeneral[fieldName]\n\t\t\t\t\t\t\t\t\t\t)}`}</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<li key={fieldName}>{`${mapping[fieldName]} : ${\n\t\t\t\t\t\t\t\t\t\t\tgeneral[fieldName]\n\t\t\t\t\t\t\t\t\t\t}`}</li>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else return null;\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ul>\n\t\t\t\t</Panel>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import D from 'js/i18n';\nimport { stringToDate } from 'js/utils/moment';\nimport { delPTags } from 'js/utils/html';\n\nexport const buildNotes = n => [\n\t{\n\t\tlg1: n.definitionLg1,\n\t\tlg2: n.definitionLg2,\n\t\ttitle: D.classificationsDefinition,\n\t},\n\t{\n\t\tlg1: n.scopeNoteLg1,\n\t\tlg2: n.scopeNoteLg2,\n\t\ttitle: D.classificationsScopeNote,\n\t},\n\t{\n\t\tlg1: n.coreContentNoteLg1,\n\t\tlg2: n.coreContentNoteLg2,\n\t\ttitle: D.classificationsCoreContentNote,\n\t},\n\t{\n\t\tlg1: n.additionalContentNoteLg1,\n\t\tlg2: n.additionalContentNoteLg2,\n\t\ttitle: D.classificationsAdditionalContentNote,\n\t},\n\t{\n\t\tlg1: n.exclusionNoteLg1,\n\t\tlg2: n.exclusionNoteLg2,\n\t\ttitle: D.classificationsExclusionNote,\n\t},\n\t{\n\t\tlg1: n.changeNoteLg1,\n\t\tlg2: n.changeNoteLg2,\n\t\ttitle: D.classificationsChangeNote(\n\t\t\tstringToDate(delPTags(n.changeNoteDate))\n\t\t),\n\t},\n];\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport NoteVisualization from 'js/components/shared/note-visualization';\nimport { buildNotes } from 'js/utils/classifications/classification/notes';\n\nfunction ClassificationNotes({ secondLang, notes, langs }) {\n\treturn (\n\t\t<NoteVisualization\n\t\t\tparams={buildNotes(notes)}\n\t\t\tlangs={langs}\n\t\t\tsecondLang={secondLang}\n\t\t\tcontext=\"classifications\"\n\t\t/>\n\t);\n}\n\nClassificationNotes.propTypes = {\n\tsecondLang: PropTypes.bool.isRequired,\n\tnotes: PropTypes.object.isRequired,\n\tlangs: PropTypes.object.isRequired,\n};\nexport default ClassificationNotes;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Panel from 'js/components/shared/panel';\nimport D from 'js/i18n';\n\nexport default ({ narrowers, classificationId, secondLang }) => {\n\tconst narrowersLg1 = narrowers.map((n, i) => (\n\t\t<li key={i}>\n\t\t\t<Link\n\t\t\t\tto={`/classifications/classification/${classificationId}/item/${n.id}`}\n\t\t\t>\n\t\t\t\t{`${n.id} - ${n.labelLg1}`}\n\t\t\t</Link>\n\t\t</li>\n\t));\n\tlet narrowersLg2 = [];\n\tif (secondLang)\n\t\tnarrowersLg2 = narrowers.map(\n\t\t\t(n, i) =>\n\t\t\t\tn.labelLg2 ? (\n\t\t\t\t\t<li key={i}>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/classifications/classification/${classificationId}/item/${\n\t\t\t\t\t\t\t\tn.id\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{`${n.id} - ${n.labelLg2}`}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t) : null\n\t\t);\n\tconst isMembersLg2 = narrowersLg2.filter(m => m !== null).length !== 0;\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className={`col-md-${secondLang ? 6 : 12}`}>\n\t\t\t\t<Panel title={D.classificationsNarrowerItems} context=\"classifications\">\n\t\t\t\t\t<ul>{narrowersLg1}</ul>\n\t\t\t\t</Panel>\n\t\t\t</div>\n\t\t\t{secondLang &&\n\t\t\t\tisMembersLg2 && (\n\t\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t\t<Panel\n\t\t\t\t\t\t\ttitle={D.classificationsNarrowerItems}\n\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ul>{narrowersLg2}</ul>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t</div>\n\t);\n};\n","import React, { Component } from 'react';\nimport CheckSecondLang from 'js/components/shared/second-lang-checkbox';\nimport PageTitle from 'js/components/shared/page-title';\nimport PageSubtitle from 'js/components/shared/page-subtitle';\nimport Controls from './controls';\nimport General from './general';\nimport Notes from './notes';\nimport Narrowers from './narrowers';\n\nclass ItemVisualization extends Component {\n\trender() {\n\t\tconst {\n\t\t\titem: { general, notes, narrowers },\n\t\t\tsecondLang,\n\t\t\tlangs,\n\t\t} = this.props;\n\t\tconst { classificationId, itemId, conceptVersion: version } = general;\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<CheckSecondLang\n\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\tonChange={this.props.saveSecondLang}\n\t\t\t\t/>\n\t\t\t\t<PageTitle title={general.prefLabelLg1} context=\"classifications\" />\n\t\t\t\t{secondLang &&\n\t\t\t\t\tgeneral.prefLabelLg2 && (\n\t\t\t\t\t\t<PageSubtitle\n\t\t\t\t\t\t\tsubTitle={general.prefLabelLg2}\n\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t<Controls\n\t\t\t\t\tclassificationId={classificationId}\n\t\t\t\t\titemId={itemId}\n\t\t\t\t\tversion={version}\n\t\t\t\t/>\n\t\t\t\t<General\n\t\t\t\t\tgeneral={general}\n\t\t\t\t\tclassificationId={classificationId}\n\t\t\t\t\titemId={itemId}\n\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t/>\n\t\t\t\t{notes && <Notes secondLang={secondLang} notes={notes} langs={langs} />}\n\t\t\t\t{narrowers.length !== 0 && (\n\t\t\t\t\t<Narrowers\n\t\t\t\t\t\tnarrowers={narrowers}\n\t\t\t\t\t\tclassificationId={classificationId}\n\t\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ItemVisualization;\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\n\nexport default (classificationId, itemId) => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATION_ITEM_GENERAL,\n\t\tpayload: {\n\t\t\tclassificationId,\n\t\t\titemId,\n\t\t},\n\t});\n\treturn api.getClassificationItemGeneral(classificationId, itemId).then(\n\t\tresults => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_ITEM_GENERAL_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\tclassificationId,\n\t\t\t\t\titemId,\n\t\t\t\t\tresults,\n\t\t\t\t},\n\t\t\t});\n\t\t\treturn results;\n\t\t},\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_ITEM_GENERAL_FAILURE,\n\t\t\t\tpayload: {\n\t\t\t\t\terr,\n\t\t\t\t\tclassificationId,\n\t\t\t\t\titemId,\n\t\t\t\t},\n\t\t\t})\n\t);\n};\n","import { buildEmptyNotes } from 'js/utils/build-empty-notes';\n\nexport const versionableNotes = [\n\t'scopeNoteLg1',\n\t'scopeNoteLg2',\n\t'definitionLg1',\n\t'definitionLg2',\n\t'coreContentNoteLg1',\n\t'coreContentNoteLg2',\n\t'additionalContentNoteLg1',\n\t'additionalContentNoteLg2',\n\t'exclusionNoteLg1',\n\t'exclusionNoteLg2',\n];\n\nexport const datableNotes = ['changeNoteLg1', 'changeNoteLg2'];\n\nconst allNotes = [...versionableNotes, ...datableNotes];\n\nexport const fields = allNotes;\n\nexport const emptyNotes = buildEmptyNotes(fields);\n","import { range } from 'js/utils/array-utils';\nimport * as A from 'js/actions/constants';\nimport loadNotesByVersion from './notes-version';\n\nexport default (classificationId, itemId, lastVersion) => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATION_ITEM_NOTES_ALL,\n\t\tclassificationId,\n\t\titemId,\n\t\tlastVersion,\n\t});\n\treturn Promise.all(\n\t\trange(1, lastVersion).map(version =>\n\t\t\tdispatch(loadNotesByVersion(classificationId, itemId, version))\n\t\t)\n\t).then(\n\t\tresults =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_ITEM_NOTES_ALL_SUCCESS,\n\t\t\t\tclassificationId,\n\t\t\t\titemId,\n\t\t\t\tlastVersion,\n\t\t\t}),\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_ITEM_NOTES_ALL_FAILURE,\n\t\t\t\tclassificationId,\n\t\t\t\titemId,\n\t\t\t\tlastVersion,\n\t\t\t\terr,\n\t\t\t})\n\t);\n};\n","import api from 'js/remote-api/classifications-api';\nimport { rmesHtmlToRawHtml } from 'js/utils/html';\nimport { emptyNotes } from 'js/utils/classifications/item/notes';\nimport * as A from 'js/actions/constants';\n\nexport default (classificationId, itemId, version) => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATION_ITEM_NOTES_VERSION,\n\t\tpayload: {\n\t\t\tclassificationId,\n\t\t\titemId,\n\t\t\tversion,\n\t\t},\n\t});\n\treturn api.getClassificationItemNotes(classificationId, itemId, version).then(\n\t\tnotes =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_ITEM_NOTES_VERSION_SUCCESS,\n\t\t\t\tpayload: {\n\t\t\t\t\tclassificationId,\n\t\t\t\t\titemId,\n\t\t\t\t\tversion,\n\t\t\t\t\tresults: Object.assign(\n\t\t\t\t\t\t{},\n\t\t\t\t\t\temptyNotes,\n\t\t\t\t\t\tObject.keys(notes).reduce((formatted, noteName) => {\n\t\t\t\t\t\t\tformatted[noteName] = rmesHtmlToRawHtml(notes[noteName]);\n\t\t\t\t\t\t\treturn formatted;\n\t\t\t\t\t\t}, {})\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t}),\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_ITEM_NOTES_VERSION_FAILURE,\n\t\t\t\tpayload: { err, classificationId, itemId, version },\n\t\t\t})\n\t);\n};\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\n\nexport default (classificationId, itemId) => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATION_ITEM_NARROWERS,\n\t\tpayload: {\n\t\t\tclassificationId,\n\t\t\titemId,\n\t\t},\n\t});\n\treturn api.getClassificationItemNarrowers(classificationId, itemId).then(\n\t\tresults => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_ITEM_NARROWERS_SUCCESS,\n\t\t\t\tpayload: { classificationId, itemId, results },\n\t\t\t});\n\t\t\treturn results;\n\t\t},\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_ITEM_NARROWERS_FAILURE,\n\t\t\t\tpayload: { err, classificationId, itemId },\n\t\t\t})\n\t);\n};\n","import loadGeneral from './general';\nimport loadAllNotes from './notes-all';\nimport loadNarrowers from './narrowers';\n\nexport default (classificationId, itemId) => dispatch =>\n\tPromise.all([\n\t\tdispatch(loadGeneral(classificationId, itemId)).then(general => {\n\t\t\tgeneral.conceptVersion &&\n\t\t\t\tdispatch(\n\t\t\t\t\tloadAllNotes(\n\t\t\t\t\t\tclassificationId,\n\t\t\t\t\t\titemId,\n\t\t\t\t\t\tNumber(general.conceptVersion) + 1\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}),\n\t\tdispatch(loadNarrowers(classificationId, itemId)),\n\t]);\n","import React, { Component } from 'react';\nimport { PropTypes } from 'prop-types';\nimport { connect } from 'react-redux';\nimport ItemVisualization from './home';\nimport Loading from 'js/components/shared/loading';\nimport loadItem from 'js/actions/classifications/item';\nimport { saveSecondLang } from 'js/actions/app';\nimport * as select from 'js/reducers/classifications/item';\nimport * as mainSelect from 'js/reducers';\nimport buildExtract from 'js/utils/build-extract';\nimport { getSecondLang } from 'js/reducers/app';\n\nconst extractClassificationId = buildExtract('classificationId');\nconst extractItemId = buildExtract('itemId');\n\nclass ItemVisualizationContainer extends Component {\n\tstatic propTypes = {\n\t\tmatch: PropTypes.shape({\n\t\t\tparams: PropTypes.shape({\n\t\t\t\tclassificationId: PropTypes.string.isRequired,\n\t\t\t\titemId: PropTypes.string.isRequired,\n\t\t\t}),\n\t\t}),\n\t};\n\tconstructor(props) {\n\t\tsuper();\n\t}\n\tcomponentWillMount() {\n\t\tconst { classificationId, itemId, item } = this.props;\n\t\tif (!item) this.props.loadItem(classificationId, itemId);\n\t}\n\tcomponentWillReceiveProps({ classificationId, itemId }) {\n\t\tif (\n\t\t\titemId !== this.props.itemId &&\n\t\t\tclassificationId !== this.props.classificationId\n\t\t) {\n\t\t\tthis.props.loadItem(classificationId, itemId);\n\t\t}\n\t\tif (itemId !== this.props.itemId) {\n\t\t\tthis.props.loadItem(this.props.classificationId, itemId);\n\t\t}\n\t}\n\trender() {\n\t\tconst { item, secondLang, langs } = this.props;\n\t\tif (!item) return <Loading textType=\"loading\" context=\"classifications\" />;\n\t\treturn (\n\t\t\t<ItemVisualization\n\t\t\t\titem={item}\n\t\t\t\tsecondLang={secondLang}\n\t\t\t\tsaveSecondLang={this.props.saveSecondLang}\n\t\t\t\tlangs={langs}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst classificationId = extractClassificationId(ownProps);\n\tconst itemId = extractItemId(ownProps);\n\tconst item = select.getItem(state, classificationId, itemId);\n\tconst secondLang = getSecondLang(state);\n\tconst langs = mainSelect.getLangs(state);\n\treturn {\n\t\tclassificationId,\n\t\titemId,\n\t\titem,\n\t\tsecondLang,\n\t\tlangs,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tsaveSecondLang,\n\tloadItem,\n};\n\nItemVisualizationContainer = connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(ItemVisualizationContainer);\n\nexport default ItemVisualizationContainer;\n","import { getGeneral } from './general';\nimport { getNotes, getAllNotes } from './notes';\nimport { getNarrowers } from './narrowers';\n\nexport function getItem(state, classificationId, itemId) {\n\tconst general = getGeneral(\n\t\tstate.classificationItemGeneral,\n\t\tclassificationId,\n\t\titemId\n\t);\n\tif (!general) return;\n\tconst narrowers = getNarrowers(\n\t\tstate.classificationItemNarrowers,\n\t\tclassificationId,\n\t\titemId\n\t);\n\tif (!narrowers) return;\n\tconst notes = getNotes(\n\t\tstate.classificationItemNotes,\n\t\tclassificationId,\n\t\titemId,\n\t\tgeneral.conceptVersion\n\t);\n\tif (!notes) return { general, narrowers };\n\treturn {\n\t\tgeneral,\n\t\tnotes,\n\t\tnarrowers,\n\t};\n}\n\nexport function getFullItem(state, classificationId, itemId) {\n\tconst general = getGeneral(\n\t\tstate.classificationItemGeneral,\n\t\tclassificationId,\n\t\titemId\n\t);\n\tif (!general) return;\n\tconst narrowers = getNarrowers(\n\t\tstate.classificationItemNarrowers,\n\t\tclassificationId,\n\t\titemId\n\t);\n\tif (!narrowers) return;\n\tconst notes = getAllNotes(\n\t\tstate.classificationItemNotes,\n\t\tclassificationId,\n\t\titemId,\n\t\tgeneral.conceptVersion\n\t);\n\tif (!notes) return;\n\treturn {\n\t\tgeneral,\n\t\tnotes,\n\t\tnarrowers,\n\t};\n}\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Button from 'js/components/shared/button';\nimport D from 'js/i18n';\n\nclass Controls extends Component {\n\trender() {\n\t\tconst location = this.props.history.location.pathname;\n\t\tconst nexLocation = location.replace('/compare', '');\n\t\treturn (\n\t\t\t<div className=\"row btn-line\">\n\t\t\t\t<Button\n\t\t\t\t\tlabel={D.btnReturnCurrent}\n\t\t\t\t\taction={nexLocation}\n\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\tcol={3}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(Controls);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CheckSecondLang from 'js/components/shared/second-lang-checkbox';\nimport PageTitle from 'js/components/shared/page-title';\nimport Controls from './controls';\nimport General from '../general';\nimport CompareNotes from 'js/components/shared/note-compare';\nimport { buildNotes } from 'js/utils/classifications/classification/notes';\n\nconst Compare = ({\n\tclassificationId,\n\titemId,\n\tgeneral,\n\tnotes,\n\tsecondLang,\n\tsaveSecondLang,\n\tlangs,\n}) => {\n\tconst { prefLabelLg1, prefLabelLg2 } = general;\n\tconst version = Number(general.conceptVersion);\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"container\">\n\t\t\t\t<CheckSecondLang secondLang={secondLang} onChange={saveSecondLang} />\n\t\t\t\t<PageTitle\n\t\t\t\t\ttitle={secondLang ? prefLabelLg2 : prefLabelLg1}\n\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t/>\n\t\t\t\t<Controls />\n\t\t\t\t<General\n\t\t\t\t\tgeneral={general}\n\t\t\t\t\tclassificationId={classificationId}\n\t\t\t\t\titemId={itemId}\n\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t/>\n\t\t\t\t<CompareNotes\n\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\tnotes={notes}\n\t\t\t\t\tlangs={langs}\n\t\t\t\t\tversion={version}\n\t\t\t\t\tbuildNotes={buildNotes}\n\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nCompare.propTypes = {\n\tclassificationId: PropTypes.string.isRequired,\n\titemId: PropTypes.string.isRequired,\n\tgeneral: PropTypes.object.isRequired,\n\tnotes: PropTypes.object.isRequired,\n\tsecondLang: PropTypes.bool.isRequired,\n\tsaveSecondLang: PropTypes.func.isRequired,\n\tlangs: PropTypes.object.isRequired,\n};\n\nexport default Compare;\n","import React, { Component } from 'react';\nimport { PropTypes } from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport Loading from 'js/components/shared/loading';\nimport Compare from './home';\nimport { saveSecondLang } from 'js/actions/app';\nimport loadItem from 'js/actions/classifications/item';\nimport buildExtract from 'js/utils/build-extract';\nimport * as select from 'js/reducers/classifications/item';\nimport * as mainSelect from 'js/reducers';\nimport { getSecondLang } from 'js/reducers/app';\n\nconst extractClassificationId = buildExtract('classificationId');\nconst extractItemId = buildExtract('itemId');\n\nclass CompareContainer extends Component {\n\tstatic propTypes = {\n\t\tclassificationId: PropTypes.string.isRequired,\n\t\titemId: PropTypes.string.isRequired,\n\t};\n\t\n\tcomponentWillMount() {\n\t\tconst { classificationId, itemId, item } = this.props;\n\t\tif (!item) {\n\t\t\tthis.props.loadItem(classificationId, itemId);\n\t\t}\n\t}\n\n\trender() {\n\t\tlet { classificationId, itemId, item, secondLang, langs } = this.props;\n\t\tif (!item) return <Loading textType=\"loading\" context=\"classifications\" />;\n\t\tconst { general, notes } = item;\n\t\treturn (\n\t\t\t<Compare\n\t\t\t\tclassificationId={classificationId}\n\t\t\t\titemId={itemId}\n\t\t\t\tgeneral={general}\n\t\t\t\tnotes={notes}\n\t\t\t\tsecondLang={secondLang}\n\t\t\t\tsaveSecondLang={this.props.saveSecondLang}\n\t\t\t\tlangs={langs}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst classificationId = extractClassificationId(ownProps);\n\tconst itemId = extractItemId(ownProps);\n\tconst item = select.getFullItem(state, classificationId, itemId);\n\tconst secondLang = getSecondLang(state);\n\tconst langs = mainSelect.getLangs(state);\n\treturn {\n\t\tclassificationId,\n\t\titemId,\n\t\titem,\n\t\tsecondLang,\n\t\tlangs,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tsaveSecondLang,\n\tloadItem,\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(withRouter(CompareContainer));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PageTitle from 'js/components/shared/page-title';\nimport SearchRmes from 'js/components/shared/search-rmes/search-rmes';\nimport D from 'js/i18n';\n\nconst CorrespondencesHome = ({ correspondences }) => {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-8 col-md-offset-2 centered\">\n\t\t\t\t\t<PageTitle\n\t\t\t\t\t\ttitle={D.correspondencesSearchTitle}\n\t\t\t\t\t\tcol={12}\n\t\t\t\t\t\toffset={0}\n\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t/>\n\t\t\t\t\t<SearchRmes\n\t\t\t\t\t\titems={correspondences}\n\t\t\t\t\t\tchildPath=\"classifications/correspondence\"\n\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nCorrespondencesHome.propTypes = {\n\titems: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t\tlabel: PropTypes.string.isRequired,\n\t\t}).isRequired\n\t),\n};\n\nexport default CorrespondencesHome;\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\nimport { sortArray } from 'js/utils/array-utils';\n\nconst sortByLabel = sortArray('label');\n\nexport default () => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATION_CORRESPONDENCE_LIST,\n\t\tpayload: {},\n\t});\n\treturn api.getCorrespondencesList().then(\n\t\tresults =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_CORRESPONDENCE_LIST_SUCCESS,\n\t\t\t\tpayload: { results: sortByLabel(results) },\n\t\t\t}),\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_CORRESPONDENCE_LIST_FAILURE,\n\t\t\t\tpayload: { err },\n\t\t\t})\n\t);\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loading from 'js/components/shared/loading';\nimport CorrespondencesHome from './home';\nimport { NOT_LOADED } from 'js/constants';\nimport loadCorrespondencesList from 'js/actions/classifications/correspondences/list';\nimport { getCorrespondencesList } from 'js/reducers/classifications/correspondence';\n\nclass CorrespondencesHomeContainer extends Component {\n\tcomponentWillMount() {\n\t\tif (!this.props.correspondences) {\n\t\t\tthis.props.loadCorrespondencesList();\n\t\t}\n\t}\n\trender() {\n\t\tconst { correspondences } = this.props;\n\t\tif (!correspondences)\n\t\t\treturn <Loading textType=\"loading\" context=\"classifications\" />;\n\t\treturn <CorrespondencesHome correspondences={correspondences} />;\n\t}\n}\n\nexport const mapStateToProps = state => {\n\tconst classificationsCorrespondencesList = getCorrespondencesList(state);\n\tif (!classificationsCorrespondencesList) {\n\t\treturn {\n\t\t\tstatus: NOT_LOADED,\n\t\t\tcorrespondences: [],\n\t\t};\n\t}\n\tlet {\n\t\tresults: correspondences,\n\t\tstatus,\n\t\terr,\n\t} = classificationsCorrespondencesList;\n\n\treturn {\n\t\tcorrespondences,\n\t\tstatus,\n\t\terr,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tloadCorrespondencesList,\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(CorrespondencesHomeContainer);\n","import { getGeneral } from './general';\nimport { getAssociations } from './associations';\n\nexport function getCorrespondence(state, id) {\n\tconst correspondence = getGeneral(\n\t\tstate.classificationsCorrespondenceGeneral,\n\t\tid\n\t);\n\tconst associations = getAssociations(\n\t\tstate.classificationsCorrespondenceAssociations,\n\t\tid\n\t);\n\treturn {\n\t\tcorrespondence,\n\t\tassociations,\n\t};\n}\n\nexport function getCorrespondencesList(state) {\n\treturn state.classificationsCorrespondencesList;\n}\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Button from 'js/components/shared/button';\nimport PlaceHolder from 'js/components/shared/placeholder/placeholder';\nimport { goBack } from 'js/utils/redirection';\nimport D from 'js/i18n';\n\nclass CorrespondenceControls extends Component {\n\trender() {\n\t\tconst cancel = [\n\t\t\tgoBack(this.props, `/classifications/correspondences`),\n\t\t\tD.btnReturn,\n\t\t];\n\t\tconst btns = [cancel, null, null, null, null, null];\n\n\t\treturn (\n\t\t\t<div className=\"row btn-line\">\n\t\t\t\t{btns.map((btn, i) => {\n\t\t\t\t\tif (!btn) return <PlaceHolder key={i} />;\n\t\t\t\t\tconst [action, label] = btn;\n\t\t\t\t\treturn (\n\t\t\t\t\t\tbtn && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey={label}\n\t\t\t\t\t\t\t\taction={action}\n\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(CorrespondenceControls);\n","import React, { Component } from 'react';\nimport CheckSecondLang from 'js/components/shared/second-lang-checkbox';\nimport PageTitle from 'js/components/shared/page-title';\nimport CorrespondenceControls from './controls';\nimport Panel from 'js/components/shared/panel';\nimport { generalFields } from './general-fields';\nimport { ExplanatoryNote } from 'js/components/shared/explanatory-note';\nimport D from 'js/i18n';\nimport { propTypes as correspondencePropTypes } from 'js/utils/classifications/correspondence/general';\n\nclass HomeGeneral extends Component {\n\tstatic propTypes = {\n\t\tcorrespondence: correspondencePropTypes.isRequired,\n\t};\n\trender() {\n\t\tconst {\n\t\t\tcorrespondence,\n\t\t\tsecondLang,\n\t\t\tlangs: { lg1, lg2 },\n\t\t} = this.props;\n\t\tconst {\n\t\t\tlabelLg1,\n\t\t\tlabelLg2,\n\t\t\tfirstClassLabelLg2,\n\t\t\tsecondClassLabelLg2,\n\t\t} = correspondence;\n\t\tconst title = secondLang ? labelLg2 : labelLg1;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<CheckSecondLang\n\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\tonChange={this.props.saveSecondLang}\n\t\t\t\t/>\n\t\t\t\t{title && <PageTitle title={title} context=\"classifications\" />}\n\t\t\t\t<CorrespondenceControls />\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-md-12\">\n\t\t\t\t\t\t{(!secondLang ||\n\t\t\t\t\t\t\t(secondLang && (firstClassLabelLg2 || secondClassLabelLg2))) && (\n\t\t\t\t\t\t\t<Panel\n\t\t\t\t\t\t\t\ttitle={D.globalInformationsTitle}\n\t\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{generalFields(correspondence, secondLang)}\n\t\t\t\t\t\t\t</Panel>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<span>\n\t\t\t\t\t{correspondence.descriptionLg1 && (\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<ExplanatoryNote\n\t\t\t\t\t\t\t\ttext={correspondence.descriptionLg1}\n\t\t\t\t\t\t\t\ttitle={D.classificationsDescription}\n\t\t\t\t\t\t\t\tlang={lg1}\n\t\t\t\t\t\t\t\talone={!secondLang}\n\t\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{secondLang && (\n\t\t\t\t\t\t\t\t<ExplanatoryNote\n\t\t\t\t\t\t\t\t\ttext={correspondence.descriptionLg2}\n\t\t\t\t\t\t\t\t\ttitle={D.classificationsDescription}\n\t\t\t\t\t\t\t\t\tlang={lg2}\n\t\t\t\t\t\t\t\t\talone={false}\n\t\t\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default HomeGeneral;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport D from 'js/i18n';\n\nexport const generalFields = (correspondence, secondLang) => {\n\tlet mapping = {\n\t\tfirstClassLabelLg1: D.sourceClassificationTitle,\n\t\tsecondClassLabelLg1: D.targetClassificationTitle,\n\t};\n\tconst content = Object.keys(mapping).map(fieldName => {\n\t\tconst {\n\t\t\tfirstClassLabelLg1,\n\t\t\tfirstClassLabelLg2,\n\t\t\tsecondClassLabelLg1,\n\t\t\tsecondClassLabelLg2,\n\t\t} = correspondence;\n\t\tif (fieldName === 'firstClassLabelLg1' && correspondence[fieldName]) {\n\t\t\treturn (\n\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t{mapping[fieldName]} :{' '}\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/classifications/classification/${\n\t\t\t\t\t\t\tcorrespondence.idFirstClass\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{secondLang ? firstClassLabelLg2 : firstClassLabelLg1}\n\t\t\t\t\t</Link>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\t\tif (fieldName === 'secondClassLabelLg1' && correspondence[fieldName]) {\n\t\t\treturn (\n\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t{mapping[fieldName]} :{' '}\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/classifications/classification/${\n\t\t\t\t\t\t\tcorrespondence.idSecondClass\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{secondLang ? secondClassLabelLg2 : secondClassLabelLg1}\n\t\t\t\t\t</Link>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else return null;\n\t});\n\n\treturn <ul>{content}</ul>;\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport Panel from 'js/components/shared/panel';\nimport TableRmes from 'js/components/shared/table-rmes';\nimport D from 'js/i18n';\nimport { propTypes as associationsPropTypes } from 'js/utils/classifications/correspondence/associations';\nimport { propTypes as correspondencePropTypes } from 'js/utils/classifications/correspondence/general';\nimport { sortArray } from 'js/utils/array-utils';\n\nconst sortById = sortArray('id');\n\nclass HomeAssociations extends Component {\n\tstatic propTypes = {\n\t\tid: PropTypes.string.isRequired,\n\t\tassociations: associationsPropTypes.isRequired,\n\t\tcorrespondence: correspondencePropTypes.isRequired,\n\t\tsecondLang: PropTypes.bool.isRequired,\n\t};\n\n\trender() {\n\t\tconst { id, associations, correspondence, secondLang } = this.props;\n\t\tconst {\n\t\t\tfirstAltLabelLg1,\n\t\t\tfirstAltLabelLg2,\n\t\t\tsecondAltLabelLg1,\n\t\t\tsecondAltLabelLg2,\n\t\t} = correspondence;\n\n\t\tconst { sourceLabelLg2, targetLabelLg2 } = associations[0];\n\t\tif (secondLang && !sourceLabelLg2 && !targetLabelLg2) return null;\n\n\t\tconst data = sortById(associations).map(a => {\n\t\t\tconst [idS, idT] = a.id.split('-');\n\t\t\treturn {\n\t\t\t\tsource: `${idS} - ${\n\t\t\t\t\tsecondLang ? a['sourceLabelLg2'] : a['sourceLabelLg1']\n\t\t\t\t}`,\n\t\t\t\ttarget: `${idT} - ${\n\t\t\t\t\tsecondLang ? a['targetLabelLg2'] : a['targetLabelLg1']\n\t\t\t\t}`,\n\t\t\t\tid: a.id,\n\t\t\t};\n\t\t});\n\t\tconst sourceLabel = secondLang ? firstAltLabelLg2 : firstAltLabelLg1;\n\t\tconst targetLabel = secondLang ? secondAltLabelLg2 : secondAltLabelLg1;\n\t\tconst rowParams = [\n\t\t\t{\n\t\t\t\tdataField: 'source',\n\t\t\t\tlabel: `${D.sourceClassificationTitle}${sourceLabel &&\n\t\t\t\t\t` : ${sourceLabel}`}`,\n\t\t\t\twidth: '50%',\n\t\t\t\tisKey: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tdataField: 'target',\n\t\t\t\tlabel: `${D.targetClassificationTitle}${sourceLabel &&\n\t\t\t\t\t` : ${targetLabel}`}`,\n\t\t\t\twidth: '50%',\n\t\t\t},\n\t\t];\n\t\treturn (\n\t\t\t<Panel title={D.associationsTitle} context=\"classifications\">\n\t\t\t\t<TableRmes\n\t\t\t\t\trowParams={rowParams}\n\t\t\t\t\tdata={data}\n\t\t\t\t\tsearch={true}\n\t\t\t\t\tpagination={true}\n\t\t\t\t\tonRowClick={row =>\n\t\t\t\t\t\tthis.props.history.push(`${id}/association/${row.id}`)\n\t\t\t\t\t}\n\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\tdataAlign=\"left\"\n\t\t\t\t/>\n\t\t\t</Panel>\n\t\t);\n\t}\n}\n\nexport default withRouter(HomeAssociations);\n","import PropTypes from 'prop-types';\nexport const propTypes = PropTypes.arrayOf(\n\tPropTypes.shape({\n\t\tid: PropTypes.string.isRequired,\n\t\tsourceId: PropTypes.string.isRequired,\n\t\tsourceLabelLg1: PropTypes.string.isRequired,\n\t\tsourceLabelLg2: PropTypes.string,\n\t\ttargetId: PropTypes.string.isRequired,\n\t\ttargetLabelLg1: PropTypes.string.isRequired,\n\t\ttargetLabelLg2: PropTypes.string,\n\t})\n);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loading from 'js/components/shared/loading';\nimport HomeGeneral from './home-general';\nimport HomeAssociations from './home-associations';\nimport { getCorrespondence } from 'js/reducers/classifications/correspondence';\nimport { saveSecondLang } from 'js/actions/app';\nimport loadCorrespondenceGeneral from 'js/actions/classifications/correspondences/general';\nimport loadCorrespondenceAssociations from 'js/actions/classifications/correspondences/associations';\nimport * as select from 'js/reducers';\nimport buildExtract from 'js/utils/build-extract';\nimport { getSecondLang } from 'js/reducers/app';\n\nconst extractId = buildExtract('id');\n\nclass CorrespondencesHomeContainer extends Component {\n\tcomponentWillMount() {\n\t\tconst { id, correspondence, associations } = this.props;\n\t\tif (!correspondence) {\n\t\t\tthis.props.loadCorrespondenceGeneral(id);\n\t\t}\n\t\tif (!associations) {\n\t\t\tthis.props.loadCorrespondenceAssociations(id);\n\t\t}\n\t}\n\trender() {\n\t\tconst { id, correspondence, associations, secondLang, langs } = this.props;\n\t\tif (!correspondence)\n\t\t\treturn <Loading textType=\"loading\" context=\"classifications\" />;\n\t\tif (correspondence && !associations)\n\t\t\treturn (\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<HomeGeneral\n\t\t\t\t\t\tcorrespondence={correspondence}\n\t\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\t\tsaveSecondLang={this.props.saveSecondLang}\n\t\t\t\t\t\tlangs={langs}\n\t\t\t\t\t/>\n\t\t\t\t\t<Loading textType=\"loading\" context=\"classifications\" />\n\t\t\t\t</div>\n\t\t\t);\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<HomeGeneral\n\t\t\t\t\tcorrespondence={correspondence}\n\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t\tsaveSecondLang={this.props.saveSecondLang}\n\t\t\t\t\tlangs={langs}\n\t\t\t\t/>\n\t\t\t\t<HomeAssociations\n\t\t\t\t\tid={id}\n\t\t\t\t\tassociations={associations}\n\t\t\t\t\tcorrespondence={correspondence}\n\t\t\t\t\tsecondLang={secondLang}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst id = extractId(ownProps);\n\tconst { correspondence, associations } = getCorrespondence(state, id);\n\tconst secondLang = getSecondLang(state);\n\tconst langs = select.getLangs(state);\n\treturn {\n\t\tid,\n\t\tcorrespondence,\n\t\tassociations,\n\t\tsecondLang,\n\t\tlangs,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tsaveSecondLang,\n\tloadCorrespondenceGeneral,\n\tloadCorrespondenceAssociations,\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(CorrespondencesHomeContainer);\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\n\nexport default id => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATION_CORRESPONDENCE_GENERAL,\n\t\tpayload: {\n\t\t\tid,\n\t\t},\n\t});\n\treturn api.getCorrespondenceGeneral(id).then(\n\t\tresults => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_CORRESPONDENCE_GENERAL_SUCCESS,\n\t\t\t\tpayload: { id, results },\n\t\t\t});\n\t\t\treturn results;\n\t\t},\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_CORRESPONDENCE_GENERAL_FAILURE,\n\t\t\t\tpayload: { err, id },\n\t\t\t})\n\t);\n};\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\n\nexport default id => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATION_CORRESPONDENCE_ASSOCIATIONS,\n\t\tpayload: {\n\t\t\tid,\n\t\t},\n\t});\n\treturn api.getCorrespondenceAssociations(id).then(\n\t\tresults => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_CORRESPONDENCE_ASSOCIATIONS_SUCCESS,\n\t\t\t\tpayload: { id, results },\n\t\t\t});\n\t\t\treturn results;\n\t\t},\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_CORRESPONDENCE_ASSOCIATIONS_FAILURE,\n\t\t\t\tpayload: { err, id },\n\t\t\t})\n\t);\n};\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Button from 'js/components/shared/button';\nimport PlaceHolder from 'js/components/shared/placeholder/placeholder';\nimport { goBack } from 'js/utils/redirection';\nimport D from 'js/i18n';\n\nclass CorrespondenceControls extends Component {\n\trender() {\n\t\tconst { correspondenceId } = this.props;\n\t\tconst cancel = [\n\t\t\tgoBack(this.props, `/classifications/correspondence/${correspondenceId}`),\n\t\t\tD.btnReturn,\n\t\t];\n\t\tconst btns = [cancel, null, null, null, null, null];\n\n\t\treturn (\n\t\t\t<div className=\"row btn-line\">\n\t\t\t\t{btns.map((btn, i) => {\n\t\t\t\t\tif (!btn) return <PlaceHolder key={i} />;\n\t\t\t\t\tconst [action, label] = btn;\n\t\t\t\t\treturn (\n\t\t\t\t\t\tbtn && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey={label}\n\t\t\t\t\t\t\t\taction={action}\n\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(CorrespondenceControls);\n","import React from 'react';\nimport CheckSecondLang from 'js/components/shared/second-lang-checkbox';\nimport PageTitle from 'js/components/shared/page-title';\nimport CorrespondenceControls from './controls';\nimport Panel from 'js/components/shared/panel';\nimport { generalFields } from './general-fields';\nimport { ExplanatoryNote } from 'js/components/shared/explanatory-note';\nimport D from 'js/i18n';\n\nexport default ({ association, secondLang, saveSecondLang, langs }) => {\n\tconst {\n\t\tlabelLg1,\n\t\tlabelLg2,\n\t\tcorrespondenceId,\n\t\tassociationId,\n\t\tscopeNoteLg1,\n\t\tscopeNoteLg2,\n\t} = association;\n\tconst { lg1, lg2 } = langs;\n\tconst title = secondLang ? labelLg2 : labelLg1;\n\tconst { sourceItemLabelLg2, targetItemLabelLg2 } = association;\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<CheckSecondLang secondLang={secondLang} onChange={saveSecondLang} />\n\t\t\t<PageTitle\n\t\t\t\ttitle={title}\n\t\t\t\tsubtitle={associationId}\n\t\t\t\tcontext=\"classifications\"\n\t\t\t/>\n\t\t\t<CorrespondenceControls correspondenceId={correspondenceId} />\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-12\">\n\t\t\t\t\t{(!secondLang ||\n\t\t\t\t\t\t(secondLang && sourceItemLabelLg2 && targetItemLabelLg2)) && (\n\t\t\t\t\t\t<Panel title={D.globalInformationsTitle} context=\"classifications\">\n\t\t\t\t\t\t\t{generalFields(association, secondLang)}\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<span>\n\t\t\t\t{scopeNoteLg1 && (\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<ExplanatoryNote\n\t\t\t\t\t\t\ttext={scopeNoteLg1}\n\t\t\t\t\t\t\ttitle={D.classificationsDescription}\n\t\t\t\t\t\t\tlang={lg1}\n\t\t\t\t\t\t\talone={!secondLang}\n\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{secondLang && (\n\t\t\t\t\t\t\t<ExplanatoryNote\n\t\t\t\t\t\t\t\ttext={scopeNoteLg2}\n\t\t\t\t\t\t\t\ttitle={D.classificationsDescription}\n\t\t\t\t\t\t\t\tlang={lg2}\n\t\t\t\t\t\t\t\talone={false}\n\t\t\t\t\t\t\t\tcontext=\"classifications\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</span>\n\t\t</div>\n\t);\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport D from 'js/i18n';\n\nexport const generalFields = (association, secondLang) => {\n\tlet mapping = {\n\t\tsourceItemLabelLg1: D.sourceItemTitle,\n\t\ttargetItemLabelLg1: D.targetItemTitle,\n\t};\n\tconst {\n\t\tsourceClassId,\n\t\ttargetClassId,\n\t\tsourceItemId,\n\t\ttargetItemId,\n\t\tsourceItemLabelLg1,\n\t\tsourceItemLabelLg2,\n\t\ttargetItemLabelLg1,\n\t\ttargetItemLabelLg2,\n\t\tsourceClassAltLabelLg1,\n\t\tsourceClassAltLabelLg2,\n\t\ttargetClassAltLabelLg1,\n\t\ttargetClassAltLabelLg2,\n\t} = association;\n\tconst content = Object.keys(mapping).map(fieldName => {\n\t\tif (fieldName === 'sourceItemLabelLg1' && association[fieldName]) {\n\t\t\treturn (\n\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t{mapping[fieldName]} :{' '}\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/classifications/classification/${sourceClassId}/item/${sourceItemId}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{`${sourceItemId} - `}\n\t\t\t\t\t\t{!secondLang ? sourceItemLabelLg1 : sourceItemLabelLg2}\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to={`/classifications/classification/${sourceClassId}`}>\n\t\t\t\t\t\t{!secondLang\n\t\t\t\t\t\t\t? sourceClassAltLabelLg1 && ` (${sourceClassAltLabelLg1})`\n\t\t\t\t\t\t\t: sourceClassAltLabelLg2 && ` (${sourceClassAltLabelLg2})`}\n\t\t\t\t\t</Link>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\t\tif (fieldName === 'targetItemLabelLg1' && association[fieldName]) {\n\t\t\treturn (\n\t\t\t\t<li key={fieldName}>\n\t\t\t\t\t{mapping[fieldName]} :{' '}\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/classifications/classification/${targetClassId}/item/${targetItemId}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{`${targetItemId} - `}\n\t\t\t\t\t\t{!secondLang ? targetItemLabelLg1 : targetItemLabelLg2}\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to={`/classifications/classification/${targetClassId}`}>\n\t\t\t\t\t\t{!secondLang\n\t\t\t\t\t\t\t? targetClassAltLabelLg1 && ` (${targetClassAltLabelLg1})`\n\t\t\t\t\t\t\t: targetClassAltLabelLg2 && ` (${targetClassAltLabelLg2})`}\n\t\t\t\t\t</Link>\n\t\t\t\t</li>\n\t\t\t);\n\t\t} else return null;\n\t});\n\n\treturn <ul>{content}</ul>;\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loading from 'js/components/shared/loading';\nimport AssociationHome from './home';\nimport loadCorrespondenceAssociation from 'js/actions/classifications/correspondences/association';\nimport { saveSecondLang } from 'js/actions/app';\nimport * as select from 'js/reducers/classifications/correspondence/association';\nimport * as mainSelect from 'js/reducers';\nimport buildExtract from 'js/utils/build-extract';\nimport { getSecondLang } from 'js/reducers/app';\n\nconst extractCorrespondenceId = buildExtract('correspondenceId');\nconst extractAssociationId = buildExtract('associationId');\n\nclass AssociationHomeContainer extends Component {\n\tcomponentWillMount() {\n\t\tconst { association, correspondenceId, associationId } = this.props;\n\t\tif (!association) {\n\t\t\tthis.props.loadCorrespondenceAssociation(correspondenceId, associationId);\n\t\t}\n\t}\n\trender() {\n\t\tconst { association, secondLang, saveSecondLang, langs } = this.props;\n\t\tif (!association)\n\t\t\treturn <Loading textType=\"loading\" context=\"classifications\" />;\n\t\treturn (\n\t\t\t<AssociationHome\n\t\t\t\tassociation={association}\n\t\t\t\tsecondLang={secondLang}\n\t\t\t\tsaveSecondLang={saveSecondLang}\n\t\t\t\tlangs={langs}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst correspondenceId = extractCorrespondenceId(ownProps);\n\tconst associationId = extractAssociationId(ownProps);\n\tconst association = select.getAssociation(\n\t\tstate,\n\t\tcorrespondenceId,\n\t\tassociationId\n\t);\n\tconst secondLang = getSecondLang(state);\n\tconst langs = mainSelect.getLangs(state);\n\treturn {\n\t\tcorrespondenceId,\n\t\tassociationId,\n\t\tassociation,\n\t\tsecondLang,\n\t\tlangs,\n\t};\n};\n\nconst mapDispatchToProps = {\n\tloadCorrespondenceAssociation,\n\tsaveSecondLang,\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(AssociationHomeContainer);\n","import api from 'js/remote-api/classifications-api';\nimport * as A from 'js/actions/constants';\n\nexport default (correspondenceId, associationId) => dispatch => {\n\tdispatch({\n\t\ttype: A.LOAD_CLASSIFICATION_CORRESPONDENCE_ASSOCIATION,\n\t\tpayload: {\n\t\t\tcorrespondenceId,\n\t\t\tassociationId,\n\t\t},\n\t});\n\treturn api.getCorrespondenceAssociation(correspondenceId, associationId).then(\n\t\tresults => {\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_CORRESPONDENCE_ASSOCIATION_SUCCESS,\n\t\t\t\tpayload: { correspondenceId, associationId, results },\n\t\t\t});\n\t\t\treturn results;\n\t\t},\n\t\terr =>\n\t\t\tdispatch({\n\t\t\t\ttype: A.LOAD_CLASSIFICATION_CORRESPONDENCE_ASSOCIATION_FAILURE,\n\t\t\t\tpayload: { err, correspondenceId, associationId },\n\t\t\t})\n\t);\n};\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport ClassificationsFamiliesContainer from 'js/components/classifications/families/home-container';\nimport ClassificationsFamilyContainer from 'js/components/classifications/families/visualization/home-container';\nimport ClassificationsSeriesContainer from 'js/components/classifications/series/home-container';\nimport ClassificationsOneSeriesContainer from 'js/components/classifications/series/visualization/home-container';\nimport ClassificationsContainer from 'js/components/classifications/home-container';\nimport ClassificationContainer from 'js/components/classifications/visualization/home-container';\nimport ClassificationItemsContainer from 'js/components/classifications/visualization/items/home-container';\nimport ClassificationTreeContainer from 'js/components/classifications/visualization/tree/home-container';\nimport ClassificationLevelContainer from 'js/components/classifications/level/home-container';\nimport ClassificationItemContainer from 'js/components/classifications/item/home-container';\nimport ClassificationItemCompareContainer from 'js/components/classifications/item/compare/home-container';\nimport ClassificationsCorrespondencesContainer from 'js/components/classifications/correspondences/home-container';\nimport ClassificationsCorrespondenceContainer from 'js/components/classifications/correspondences/visualization/home-container';\nimport ClassificationsCorrespondenceAssociationContainer from 'js/components/classifications/correspondences/association/home-container';\nimport D from 'js/i18n';\n\nexport default () => {\n\tdocument.title = 'Bauhaus - ' + D.classificationsTitle;\n\treturn (\n\t\t<Switch>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/classifications/families\"\n\t\t\t\tcomponent={ClassificationsFamiliesContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/classifications/family/:id\"\n\t\t\t\tcomponent={ClassificationsFamilyContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/classifications/series\"\n\t\t\t\tcomponent={ClassificationsSeriesContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/classifications/series/:id\"\n\t\t\t\tcomponent={ClassificationsOneSeriesContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/classifications\"\n\t\t\t\tcomponent={ClassificationsContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/classifications/classification/:id\"\n\t\t\t\tcomponent={ClassificationContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/classifications/classification/:id/items\"\n\t\t\t\tcomponent={ClassificationItemsContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/classifications/classification/:id/tree\"\n\t\t\t\tcomponent={ClassificationTreeContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/classifications/classification/:classificationId/level/:levelId\"\n\t\t\t\tcomponent={ClassificationLevelContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/classifications/classification/:classificationId/item/:itemId\"\n\t\t\t\tcomponent={ClassificationItemContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/classifications/classification/:classificationId/item/:itemId/compare\"\n\t\t\t\tcomponent={ClassificationItemCompareContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/classifications/correspondences\"\n\t\t\t\tcomponent={ClassificationsCorrespondencesContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/classifications/correspondence/:id\"\n\t\t\t\tcomponent={ClassificationsCorrespondenceContainer}\n\t\t\t/>\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath=\"/classifications/correspondence/:correspondenceId/association/:associationId\"\n\t\t\t\tcomponent={ClassificationsCorrespondenceAssociationContainer}\n\t\t\t/>\n\t\t</Switch>\n\t);\n};\n","export default paramName => props => props.match.params[paramName];\n","export const goBack = (props, defaultRedirection) => () =>\n\tprops.history.length === 1 || props.history.location.state\n\t\t? props.history.push(defaultRedirection)\n\t\t: props.history.goBack();\n\n/**\n * This method is used when we have to redirect the user after creating or\n * updating an object.\n * If this is a creation, we should replace the current history with the page of the newly created object.\n * If this is an update, we do a goBack\n *\n * @param {{history: any}} props\n * @param {string} redirectUrl\n * @param {boolean} shouldReplace\n */\nexport const goBackOrReplace = (props, redirectUrl, shouldReplace = false) => {\n\tif (shouldReplace) {\n\t\tprops.history.replace(redirectUrl);\n\t} else {\n\t\tgoBack(props, redirectUrl)();\n\t}\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport D from 'js/i18n';\n\nconst Checkbox = ({ secondLang, onChange }) => (\n\t<div className=\"row\">\n\t\t<div className=\"col-md-12\">\n\t\t\t<label className=\"pull-right\">\n\t\t\t\t<input type=\"checkbox\" checked={secondLang} onChange={onChange} />{' '}\n\t\t\t\t{D.displayLg2}\n\t\t\t</label>\n\t\t</div>\n\t</div>\n);\n\nCheckbox.propTypes = {\n\tsecondLang: PropTypes.bool.isRequired,\n\tonChange: PropTypes.func.isRequired,\n};\n\nexport default Checkbox;\n","import { EditorState, convertToRaw, convertFromRaw } from 'draft-js';\nimport { stateFromHTML } from 'draft-js-import-html';\nimport { stateToHTML } from 'draft-js-export-html';\nimport { mdToDraftjs, draftjsToMd } from 'draftjs-md-converter';\nexport const htmlToRawText = html => {\n\tconst el = document.createElement('div');\n\tel.innerHTML = html || '';\n\treturn el.textContent;\n};\n\nexport const htmlLength = html => htmlToRawText(html).trim().length;\nexport const htmlIsEmpty = html => !(htmlLength(html) > 0);\n\n/**\n * We cannot handle the markup exactly in ths same that it is in the remote\n * repository. So we format it the `ui` way and then we only operate on this\n * representation.\n */\nexport const rmesHtmlToRawHtml = html =>\n\tcleanHtml(stateToHTML(stateFromHTML(html)));\n\n/**\n * We need to transform Draft Html to Xhtml\n */\nexport const draftHtmlToXhtml = html =>\n\thtml\n\t\t.replace(/&nbsp;/g, ' ')\n\t\t.replace(/<br>/g, '<br/>')\n\t\t.replace(/<p><\\/p>/g, '<br/>');\n\n/**\n * We need to transform back the html to comply with the repository rules\n */\nexport const rawHtmlToRmesHtml = html =>\n\t`<div xmlns=\"http://www.w3.org/1999/xhtml\">${draftHtmlToXhtml(html)}</div>`;\n\nconst rNewLine = /\\n/g;\nconst rUselessSpace = /(>)\\s*(<)/g;\nexport const cleanHtml = html => {\n\tconst rawText = htmlToRawText(html);\n\tif (rawText === '') return '';\n\treturn html.replace(rNewLine, '').replace(rUselessSpace, '$1$2');\n};\n\nexport const delPTags = s => s && s.replace(/<p>/g, '').replace(/<\\/p>/g, '');\n\n//HACK avoid new lines and unecesseray whitespaces in the html. Not safe: some\n//of these whitespaces might impact the rendered html. But for notes edited with\n//the html editor, it should be ok.\nexport function htmlFromEditorState(editorState) {\n\tconst html = stateToHTML(editorState.getCurrentContent());\n\treturn cleanHtml(html);\n}\n\nexport function editorStateFromHtml(html) {\n\treturn EditorState.createWithContent(stateFromHTML(html));\n}\n\nexport function mdFromEditorState(editorState) {\n\treturn draftjsToMd(convertToRaw(editorState.getCurrentContent()));\n}\n\nexport function editorStateFromMd(md = '') {\n\treturn EditorState.createWithContent(convertFromRaw(mdToDraftjs(md)));\n}\n\nexport function markdownToHtml(md) {\n\treturn htmlFromEditorState(editorStateFromMd(md));\n}\n","import React from 'react';\nimport flag from 'js/components/shared/flag/flag';\nimport PropTypes from 'prop-types';\n\nfunction NoteFlag({ text, lang }) {\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{text + '  ( '}\n\t\t\t{flag(lang)} )\n\t\t</React.Fragment>\n\t);\n}\n\nNoteFlag.propTypes = {\n\ttext: PropTypes.string,\n\tlang: PropTypes.string,\n};\n\nexport default NoteFlag;\n","import React, { useState, useContext } from 'react';\nimport { PropTypes } from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport D from 'js/i18n';\nimport Pagination from 'js/components/shared/pagination';\nimport { filterKeyDeburr, nbResults } from 'js/utils/array-utils';\nimport { ApplicationContext } from 'js/context';\n\nfunction SearchRmes({\n\titems = [],\n\tadvancedSearch = false,\n\tsearchUrl,\n\tplaceholder = D.searchLabelPlaceholder,\n\tchildPath,\n\tcol,\n\tcolOff,\n\tcontext,\n\tlabel,\n}) {\n\tconst [search, handleSearch] = useState('');\n\tconst ctx = useContext(ApplicationContext) || context;\n\tconst filter = filterKeyDeburr(\n\t\tObject.keys(items[0] || {}).filter(k => k !== 'id')\n\t);\n\n\tconst hits = items.filter(filter(search));\n\n\tconst hitEls = hits.map(({ id, [label]: labelValue }) => (\n\t\t<li key={id} className=\"list-group-item\">\n\t\t\t<Link to={`/${childPath}/${id}`}>{labelValue}</Link>\n\t\t</li>\n\t));\n\n\tconst colSize = col ? `col-md-${col}` : '';\n\tconst colOffset = colOff ? `col-md-offset-${colOff}` : '';\n\n\treturn (\n\t\t<div className={`${colSize} ${colOffset}`}>\n\t\t\t<div className=\"row form-group\">\n\t\t\t\t<div className=\"col-md-12\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\tonChange={e => handleSearch(e.target.value)}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\taria-label={D.search}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{advancedSearch && (\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-md-12\">\n\t\t\t\t\t\t<Link to={searchUrl}>\n\t\t\t\t\t\t\t<h2 className=\"inline\">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName=\"glyphicon glyphicon-zoom-in\"\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{D.conceptAdvancedSearchTitle}\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<div className=\"row\">\n\t\t\t\t<p aria-live=\"assertive\">{nbResults(hits)}</p>\n\t\t\t</div>\n\t\t\t<Pagination itemEls={hitEls} itemsPerPage=\"10\" context={ctx} />\n\t\t</div>\n\t);\n}\n\nSearchRmes.defaultProps = {\n\tlabel: 'label',\n};\n\nSearchRmes.propTypes = {\n\titems: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n\tchildPath: PropTypes.string.isRequired,\n\tadvancedSearch: PropTypes.bool,\n\tsearchUrl: PropTypes.string,\n\tplaceholder: PropTypes.string,\n\tcol: PropTypes.number,\n\tcolOff: PropTypes.number,\n\tcontext: PropTypes.oneOf(['', 'concepts', 'classifications', 'operations']),\n\tlabel: PropTypes.string,\n};\n\nexport default SearchRmes;\n","module.exports = __webpack_public_path__ + \"static/media/default.0d6fe9ef.png\";","var map = {\n\t\"./default.png\": 595,\n\t\"./en.png\": 608,\n\t\"./fr.png\": 609\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 596;","import React from 'react';\nimport defaultFlag from 'img/flags/default.png';\nimport D from 'js/i18n';\n\nexport const isFlag = lang => {\n\ttry {\n\t\trequire(`img/flags/${lang}.png`);\n\t} catch (e) {\n\t\treturn false;\n\t}\n\treturn true;\n};\n\nexport default lang => {\n\tif (!lang) return null;\n\treturn (\n\t\t<img\n\t\t\tsrc={isFlag(lang) ? require(`img/flags/${lang}.png`) : defaultFlag}\n\t\t\talt={D.langs}\n\t\t\tclassName=\"img-flag\"\n\t\t/>\n\t);\n};\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport './page-subtitle.scss';\nimport { ApplicationContext } from 'js/context';\n\nconst PageSubtitle = ({ subTitle, context = 'concepts' }) => {\n\tconst ctx = useContext(ApplicationContext) || context;\n\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t<div className=\"col-md-8 centered col-md-offset-2\">\n\t\t\t\t<h3 className={`page-subtitle-${ctx}`}>{subTitle}</h3>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default PageSubtitle;\n\nPageSubtitle.proptTypes = {\n\tsubtitle: PropTypes.string.isRequired,\n\tcontext: PropTypes.oneOf(['', 'concepts', 'classifications', 'operations']),\n};\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAC3ElEQVR4nI2TS2icZRiFn/f7/vyTzC2TyyQ6aawQW4upo5BqRWmpSiRYK0VE2ljvKIqLIoIgUhDULsQi4kJRrHcs3hZtqFErQRBSDaaLWlOTylRFScxMksn800zmv7wuAnVhFJ/lOWd3zoF/Iqto/+r9LbRuEQThnM+e+7bSdWKU0ugYILT05SlddwMH3xgBtwFUFYCFb9Tpv+vFn8an4+s7MjHSyQb+LFZ55sCD5F59jRm3E1TJ7drB5OA9jJx9nY62BIvVZYo1y7rmnR877718h5NtznHz458yfOQkOIY5z6d1pkil8BsoVKdnWKjWKExNUyi43P7ITXx06xre3j7QZI7f/6QK8NmB2wgm9nHN5rWU5qsEoqg1qBXUGopzHttu6WPp0E7eObyfn9dsZPHSXjW2JUPx6RcgUqw1jL55N/3rMtQiQCIiDanWA3ZsbGfk3rVU3v+Ec4O76NEZsg/twUlsupxkb56FoWNIFBCJxSQa8U5PUvc8QPFOTVD+4ms0qNNw41YIAupDx1gYPoq8RduZTYmWHt8xRCga+KCKTacwTTFAiJZqhBUPoghFIYiIR8qHYWXIMak4JpkEDTACmKaVfq1zvmVxXWwmjagSqSJhhA0VuxTi2FQSScZxjAHHgAiIEHoVNAhWNuI4OJlWNAyRUBEUx1hMaRlO/PH7GV2FX554Vsc78zremddf9z2/WkQ/+HL4iKHmMbv/IGOSw7/zUb47OsZkHRqkEUl1IckcrjRyct5nolA8P9zZp17iVP9uzA89g5Ite3RNT9F/5QNsfuxb5ueWcdPtSLobSV+Em2pjfrHOZde/y5a9w8yWa2Sf20vfV4dwYodfcQbKeT5/+HtizTG44iqyF8Roy26g2u4B0NKxnvYLE3D1tYyVDR27j7N9oJdtbskRRLrjjU73hksuxlqLARaXIwJrV44DqO/jBiGpmEU1wvd9fpw6K6HK6f947v/jL75XTMPxMeR3AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABzUlEQVR4XqXOsWoUURTG8f+5c2d2ZzYJayRYuYoheQa1EB9AQV9ACx/BxlLBFBbWPoE2voOFjTY2FoqIEbERC82yJtnZO/d8woCF7AYLf5fTnfudjxWMk9mJyzsXbhiGtfOOK1cn7OxukVKmV1bk/Q+0z55iQ8AQgsczxM3rT94/2nujvfuv9PDBa927+1Kf9w+15ONb5Wvb0u1L0q2L0p3LejEJz2NKs+r7tymdJ8xgetAym86A5q+q3fQnR18/EeY/IDujUnwxq6NAjkAZCCDHxRIJFAyFGqzDlQkEBUnk7GQH94yj/i1xoSTUZpQBNzAjCui6jOS4GTkJraqQHR2AVy3IEQKJiPcNwB1HzH4dkzpniQEBLBjIcHdMRpToA1JK4GBmGP+G0QuSaBcZzyAgOxA4kQT0AwJiLAJ1Ffnzrx5mgq1OsNgPCIIgFBDX1xtOj4fIOzCjssCgWg6wIlA0EGrAA4UyZQlxc2NkW6c2cBaYGc2gYlCVK6/HIdhA4I6ZGJYijtfGcfvcLl3XAuL4MHH+7OZSQHFmTF0DTQs4mKiCR1vbGEyaZjQpqypXRQyEQF5ksgtJ9Mz681aPcIlFyp4Wx/FoPn/H//oNZ+YFBLvnivQAAAAASUVORK5CYII=\"","import React from 'react';\n\nexport default () => <div className=\"col-md-2\" />;\n","import React from 'react';\nimport DOMPurify from 'dompurify';\nimport '../panel/panel.scss';\n\nfunction PanelHtml({ title, children, context = 'concepts' }) {\n\treturn (\n\t\t<div className={`panel panel-${context}`}>\n\t\t\t<div className=\"panel-heading\">\n\t\t\t\t<h3 className=\"panel-title\">{title}</h3>\n\t\t\t</div>\n\t\t\t<div className=\"panel-body\">\n\t\t\t\t<div\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: DOMPurify.sanitize(children),\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default PanelHtml;\n","import React from 'react';\nimport PanelHtml from 'js/components/shared/panel-html';\nimport NoteFlag from 'js/components/shared/note-flag/note-flag';\n\nexport const ExplanatoryNote = ({ text, title, lang, alone, context }) => {\n\tconst cl = alone ? 'col-md-12' : 'col-md-6';\n\tif (!text) return <div className={cl} />;\n\tconst newText = text.replace(\n\t\t/href=\"http:\\/\\/.+?\\/codes\\/(.+?)\\/.+?\\/(.+?)\"/g,\n\t\t`href=\"${window.location.origin}/classifications/classification/$1/item/$2\"`\n\t);\n\treturn (\n\t\t<div className={cl}>\n\t\t\t<PanelHtml\n\t\t\t\ttitle={<NoteFlag text={title} lang={lang} />}\n\t\t\t\tcontext={context}\n\t\t\t>\n\t\t\t\t{newText}\n\t\t\t</PanelHtml>\n\t\t</div>\n\t);\n};\n","export const DSURLToLabel = dsURL => {\n\tif (dsURL.endsWith('PublicGenerique')) return 'Public gnrique';\n\tif (dsURL.endsWith('PublicSpecifique')) return 'Public spcifique';\n\tif (dsURL.endsWith('Prive')) return 'Priv';\n\telse return 'Statut de diffusion inconnu';\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ExplanatoryNote } from 'js/components/shared/explanatory-note';\n\nconst NoteVisualization = ({ params, langs, secondLang, context }) => (\n\t<div>\n\t\t{params.map((note, i) => (\n\t\t\t<span key={`note-visualization-${i}`}>\n\t\t\t\t{note.lg1 && (\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<ExplanatoryNote\n\t\t\t\t\t\t\ttext={note.lg1}\n\t\t\t\t\t\t\ttitle={note.title}\n\t\t\t\t\t\t\tlang={langs.lg1}\n\t\t\t\t\t\t\talone={!secondLang}\n\t\t\t\t\t\t\tcontext={context}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{secondLang && (\n\t\t\t\t\t\t\t<ExplanatoryNote\n\t\t\t\t\t\t\t\ttext={note.lg2}\n\t\t\t\t\t\t\t\ttitle={note.title}\n\t\t\t\t\t\t\t\tlang={langs.lg2}\n\t\t\t\t\t\t\t\talone={false}\n\t\t\t\t\t\t\t\tcontext={context}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</span>\n\t\t))}\n\t</div>\n);\n\nNoteVisualization.propTypes = {\n\tparams: PropTypes.array.isRequired,\n\tlangs: PropTypes.object.isRequired,\n\tsecondLang: PropTypes.bool.isRequired,\n\tcontext: PropTypes.oneOf(['', 'concepts', 'classifications', 'operations']),\n};\n\nexport default NoteVisualization;\n","export const buildEmptyNotes = fields =>\n\tfields.reduce((notes, typeOfNote) => {\n\t\tnotes[typeOfNote] = '';\n\t\treturn notes;\n\t}, {});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport D from 'js/i18n';\nimport { ExplanatoryNote } from 'js/components/shared/explanatory-note';\nimport {\n\tcreatSelectList,\n\tcreatSelectListSelectedLast,\n} from 'js/utils/array-utils';\n\nclass CompareNotes extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tconst { version } = props;\n\t\tthis.state = { select1: version - 1, select2: version };\n\n\t\tthis.changeSelect1 = e => {\n\t\t\tthis.setState({\n\t\t\t\tselect1: e.target.value,\n\t\t\t});\n\t\t};\n\t\tthis.changeSelect2 = e => {\n\t\t\tthis.setState({\n\t\t\t\tselect2: e.target.value,\n\t\t\t});\n\t\t};\n\t}\n\trender() {\n\t\tconst {\n\t\t\tsecondLang,\n\t\t\tnotes,\n\t\t\tlangs: { lg1, lg2 },\n\t\t\tversion,\n\t\t\tbuildNotes,\n\t\t\tcontext,\n\t\t} = this.props;\n\t\tconst { select1, select2 } = this.state;\n\t\tconst notesVersion1 = buildNotes(notes[select1]);\n\t\tconst notesVersion2 = buildNotes(notes[select2]);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-md-6 centered\">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t{D.version} :{' '}\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tvalue={this.state.select1}\n\t\t\t\t\t\t\t\tonChange={e => this.changeSelect1(e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{creatSelectList(version)}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-md-6 centered\">\n\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t{D.version} :{' '}\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tvalue={this.state.select2}\n\t\t\t\t\t\t\t\tonChange={e => this.changeSelect2(e)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{creatSelectListSelectedLast(version)}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{notesVersion2.map((n, i) => (\n\t\t\t\t\t<div className=\"row\" key={`notes-compare-${i}`}>\n\t\t\t\t\t\t<ExplanatoryNote\n\t\t\t\t\t\t\ttext={\n\t\t\t\t\t\t\t\tsecondLang ? notesVersion1[i]['lg2'] : notesVersion1[i]['lg1']\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttitle={notesVersion1[i].title}\n\t\t\t\t\t\t\tlang={secondLang ? lg2 : lg1}\n\t\t\t\t\t\t\talone={false}\n\t\t\t\t\t\t\tcontext={context}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ExplanatoryNote\n\t\t\t\t\t\t\ttext={secondLang ? n.lg2 : n.lg1}\n\t\t\t\t\t\t\ttitle={n.title}\n\t\t\t\t\t\t\tlang={secondLang ? lg2 : lg1}\n\t\t\t\t\t\t\talone={false}\n\t\t\t\t\t\t\tcontext={context}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nCompareNotes.propTypes = {\n\tsecondLang: PropTypes.bool.isRequired,\n\tnotes: PropTypes.object.isRequired,\n\tlangs: PropTypes.object.isRequired,\n\tversion: PropTypes.number.isRequired,\n\tbuildNotes: PropTypes.func.isRequired,\n\tcontext: PropTypes.string,\n};\n\nexport default CompareNotes;\n"],"sourceRoot":""}